// Last update at: 2016-01-20 16:56:41 +00:00
//
// Inline Manual Player, v2.22.1
// http://inlinemanual.com/

(function () {!function(){!function(){"use strict";var a;(a=function(a,b){var c;c=function(c){var d;return d=c[b],a.noConflict=function(){return c[b]=d,a},c[b]=a},("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=a),("undefined"!=typeof define&&null!==define?define.amd:void 0)&&define(b,[],function(){return a}),"object"==typeof window?c(window,a,b):"object"==typeof global&&c(global,a,b)})(a,"expose")}(),function(){var a,b;null==Array.isArray&&(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),a={add:function(b,c,d){var e,f,g;if(null==d&&(d=function(){}),Array.isArray(c))for(e=0,f=c.length;f>e;e++)g=c[e],a.add(b,g,d);else b.addEventListener?b.addEventListener(c,d):b.attachEvent&&b.attachEvent("on"+c,d)},remove:function(b,c,d){var e,f,g;if(null==d&&(d=function(){}),Array.isArray(c))for(e=0,f=c.length;f>e;e++)g=c[e],a.remove(b,g,d);else b.removeEventListener?b.removeEventListener(c,d):b.detachEvent&&b.detachEvent("on"+c,d)},stop:function(a){null!=a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},target:function(a){return null!=a?a.target||a.srcElement:null}},"undefined"!=typeof expose&&null!==expose?expose(a,"EventBridge"):(b=window||global,b.EventBridge=a)}.call(this),function(){var a,b,c;b=function(a){return RegExp("(^|\\s)"+a+"(\\s|$)")},a={_addNamespace:function(a){return a},has:function(a,c){return c=this._addNamespace(c),b(c).test(a.className)},add:function(a,b){return b=this._addNamespace(b),this.has(a,b)?void 0:a.className+=" "+b},remove:function(a,c){var d;return c=this._addNamespace(c),d=b(c),a.className=a.className.replace(d," ")},toggle:function(a,b,c){return b=this._addNamespace(b),null!=c?c?this.add(a,b):this.remove(a,b):this.has(a,b)?this.remove(a,b):this.add(a,b)},withNamespace:function(b){var c,d,e;null==b&&(b=""),c={};for(d in a)e=a[d],c[d]=e;return delete c.withNamespace,c._addNamespace=function(a){return b+a},c}},"undefined"!=typeof expose&&null!==expose?expose(a,"ClassBridge"):(c=window||global,c.ClassBridge=a)}.call(this),function(){var a,b,c,d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b=function(a){var b,c,d,e,f,g,h;for(b={},f=0,g=a.length;g>f;f++)c=a[f],b[c]=c;h=[];for(d in b)e=b[d],h.push(e);return h},a=function(){function a(a,b){null==b&&(b=[]),this.gaps=[],this.setCanvas(a),this.addGaps(b)}return a.prototype.setCanvas=function(a){return this.isValidBox(a)?this.canvas=a:void 0},a.prototype.clearGaps=function(){return this.gaps=[]},a.prototype.addGaps=function(a){var b,c,d,e;for(null==a&&(a=[]),e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.addGap(b));return e},a.prototype.addGap=function(a){return this.isValidBox(a)&&d.call(this.gaps,a)<0?this.gaps.push(a):void 0},a.prototype.removeGaps=function(a){var b,c,d,e;for(null==a&&(a=[]),e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.removeGap(b));return e},a.prototype.removeGap=function(a){var b,c,d,e,f,g;for(f=this.gaps,g=[],c=d=0,e=f.length;e>d;c=++d)b=f[c],g.push(this.gaps.splice(c,1));return g},a.prototype.isValidBox=function(a){var b,c,d,e;if("object"!=typeof a)return!1;for(e=["left","top","width","height"],c=0,d=e.length;d>c;c++)if(b=e[c],null==a[b])return!1;return!0},a.prototype.getGridPoints=function(){var a,c,d,e,f,g;for(d={horizontal:[this.canvas.left,this.canvas.left+this.canvas.width],vertical:[this.canvas.top,this.canvas.top+this.canvas.height]},g=this.gaps,e=0,f=g.length;f>e;e++)c=g[e],d.horizontal.push(c.left,c.left+c.width),d.vertical.push(c.top,c.top+c.height);return a=function(a,b,c){return a.filter(function(a){return a>=b&&c>=a})},d.horizontal=a(b(d.horizontal),this.canvas.left,this.canvas.left+this.canvas.width).sort(function(a,b){return a-b}),d.vertical=a(b(d.vertical),this.canvas.top,this.canvas.top+this.canvas.height).sort(function(a,b){return a-b}),d},a.prototype.getGridMatrix=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(f=[],n=a.vertical,b=j=0,l=n.length;l>j;b=++j){for(i=n[b],g=[],o=a.horizontal,d=k=0,m=o.length;m>k;d=++k)h=o[d],c=b===a.vertical.length-1||d===a.horizontal.length-1,e=c||this.isPointInGaps({left:h,top:i}),g.push(e===!0?1:0);f.push(g)}return f},a.prototype.isPointInGap=function(a,b){var c,d;return b.left<=(c=a.left)&&c<b.left+b.width&&b.top<=(d=a.top)&&d<b.top+b.height},a.prototype.isPointInGaps=function(a){var b,c,d,e;for(e=this.gaps,c=0,d=e.length;d>c;c++)if(b=e[c],this.isPointInGap(a,b))return!0;return!1},a.prototype.getMatrixBlockRight=function(a,b,c){var d;for(d=b;0===a[c][d];)d++;return d},a.prototype.getMatrixBlockBottom=function(a,b,c,d){var e;for(e=c;this.getMatrixBlockRight(a,b,e)===d;)e++;return e},a.prototype.getMatrixBlock=function(a,b,c){var d,e;return d=this.getMatrixBlockRight(a,b,c),e=this.getMatrixBlockBottom(a,b,c,d,e),{x1:b,y1:c,x2:d,y2:e}},a.prototype.markMatrixBlock=function(a,b){var c,d,e,f,g,h,i,j;for(c=e=g=b.x1,h=b.x2;h>=g?h>e:e>h;c=h>=g?++e:--e)for(d=f=i=b.y1,j=b.y2;j>=i?j>f:f>j;d=j>=i?++f:--f)a[d][c]=1;return a},a.prototype.getAllMatrixBlocks=function(a){var b,c,d,e,f,g,h,i;for(c=[],e=f=0,h=a.length;h>=0?h>f:f>h;e=h>=0?++f:--f)for(d=g=0,i=a[0].length;i>=0?i>g:g>i;d=i>=0?++g:--g)0===a[e][d]&&(b=this.getMatrixBlock(a,d,e),a=this.markMatrixBlock(a,b),c.push(b));return c},a.prototype.generate=function(){var a,b,c,d,e,f,g;for(e=[],d=this.getGridPoints(),c=this.getGridMatrix(d),b=this.getAllMatrixBlocks(c),f=0,g=b.length;g>f;f++)a=b[f],e.push({left:d.horizontal[a.x1],width:d.horizontal[a.x2]-d.horizontal[a.x1],top:d.vertical[a.y1],height:d.vertical[a.y2]-d.vertical[a.y1]});return e},a}(),"undefined"!=typeof expose&&null!==expose?expose(a,"GapGrid"):(c="object"==typeof exports?exports:this,c.GapGrid=a)}.call(this),function(){var a,b;a=function(){function a(a){var b=this;null==a&&(a={}),this.checkDependencies(),this.backdrops=[],this.covers=[],this.is_active=!1,this.options={},this.setOptions(this.default_options),this.setOptions(a),this.element_monitor=new f(null,{interval:this.options.watch_interval,onChange:function(){return b.draw()}}),g.add(window,"resize",function(){return b.redraw()})}return a.prototype.default_options={backdrop_class:"backdrop",z_index:1e3,padding:5,color:"#000000",opacity:.5,hide_on_click:!0,cover:!1,watch:!1,watch_interval:500,onShow:function(){},onHide:function(){}},a.prototype.checkDependencies=function(){var a,b,c,d,e,h;for(a={DomBox:DomBox,EventBridge:g,GapGrid:GapGrid,ElementMonitor:f,ElementCollector:ElementCollector},h=[],c=d=0,e=a.length;e>d;c=++d){if(b=a[c],null==c)throw new Error("Backdrop requires "+b+" library to operate.");h.push(void 0)}return h},a.prototype.setOptions=function(a){var b,c,d;null==a&&(a={}),d=[];for(b in a)c=a[b],null!=this.default_options[b]?d.push(this.options[b]=c):d.push(void 0);return d},a.prototype.add=function(a){return this.element_monitor.addElement(a),this.redraw()},a.prototype.remove=function(a){return this.element_monitor.removeElement(a),this.redraw()},a.prototype.set=function(a){return this.element_monitor.setElement(a),this.redraw()},a.prototype.sanitizeEmptySpace=function(a){var b,c;for(b in a)c=a[b],a[b]=Math.round(c);return a},a.prototype.removeBackdrops=function(){var a,b,c,d;for(d=this.backdrops,b=0,c=d.length;c>b;b++)a=d[b],a.parentNode.removeChild(a);return this.backdrops=[]},a.prototype.addBackdrops=function(a){var b,c,d,e,f,g;for(b={left:0,top:0,width:DomBox.Document.getWidth(),height:DomBox.Document.getHeight()},d=new GapGrid(b,a),g=d.generate(),e=0,f=g.length;f>e;e++)c=g[e],this.backdrops.push(this.createBackdrop(this.sanitizeEmptySpace(c)));return this.backdrops},a.prototype.createBackdrop=function(a){var b,c,d,e,f,h=this;b=document.createElement("div"),b.className=this.options.backdrop_class,c=100*this.options.opacity,e={position:"absolute",left:""+a.left+"px",top:""+a.top+"px",width:""+a.width+"px",height:""+a.height+"px",zIndex:this.options.z_index,backgroundColor:this.options.color,opacity:this.options.opacity,MsFilter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+c+")",filter:"alpha(opacity="+c+")"};for(d in e)f=e[d],b.style[d]=f;return this.options.hide_on_click&&g.add(b,"click",function(){return h.hide()}),document.body.appendChild(b)},a.prototype.addCover=function(a){var b,c,d,e,f=this;b=document.createElement("div"),d={position:"absolute",left:""+a.left+"px",top:""+a.top+"px",width:""+a.width+"px",height:""+a.height+"px",zIndex:this.options.z_index};for(c in d)e=d[c],b.style[c]=e;return this.options.hide_on_click&&g.add(b,"click",function(){return f.hide()}),document.body.appendChild(b),this.covers.push(b)},a.prototype.addCovers=function(a){var b,c,d,e;for(this.removeCovers(),e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.addCover(b));return e},a.prototype.removeCovers=function(){var a,b,c,d;for(d=this.covers,b=0,c=d.length;c>b;b++)a=d[b],a.parentNode.removeChild(a);return this.covers=[]},a.prototype.draw=function(){var a,b,c,d,e,f;for(this.removeBackdrops(),this.removeCovers(),c=[],f=this.element_monitor.getElements(),d=0,e=f.length;e>d;d++)a=f[d],b=DomBox.getBox(a),null!=b&&(b.setPadding(this.options.padding),c.push(b));return this.addBackdrops(c),this.options.cover?this.addCovers(c):void 0},a.prototype.show=function(a){return null!=a&&this.set(a),this.element_monitor.stop(),this.draw(),this.options.watch===!0&&this.element_monitor.start(),this.is_active=!0,this.options.onShow(this)},a.prototype.hide=function(){return this.element_monitor.stop(),this.removeBackdrops(),this.removeCovers(),this.is_active=!1,this.options.onHide(this)},a.prototype.redraw=function(){return this.is_active?this.draw():void 0},a.prototype.destroy=function(){return this.hide()},a}(),"undefined"!=typeof expose&&null!==expose?expose(a,"Backdrop"):(b="object"==typeof exports?exports:this,b.Backdrop=a)}.call(this),function(){var a,b,c,d,e,f,g,h,i,j=function(a,b){function c(){this.constructor=a}for(var d in b)k.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},k={}.hasOwnProperty,l=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};e=function(){function e(a){var b;("*"===a||"<all_urls>"===a)&&(a="*://*/*?*#*"),this.original_pattern=a,b=this.sanitize(a),this.pattern=b,this.url_parts=this.getUrlParts(b)}return e.prototype.split_re=/^([a-z]+|\*)*:\/\/(.+@)*([\w\*\.\-]+)*(\:\d+)*(\/([^\?\#]*))*(\?([^\#]*))*(\#(.*))*/,e.prototype.split=function(a,b){var c,d,e,f,g;null==a&&(a=""),null==b&&(b=null),d=a.match(this.split_re),e={scheme:1,host:3,path:6,params:8,fragment:10},f={};for(c in e)g=e[c],f[c]=(null!=d?d[g]:void 0)||b;return f},e.prototype.getUrlParts=function(e){var g;return null==e&&(e=this.pattern),g=this.split(e),{scheme:new f(g.scheme),host:new b(g.host),path:new d(g.path),params:new c(g.params),fragment:new a(g.fragment)}},e.prototype.sanitize=function(a){var b;return null==a&&(a=this.original_pattern),b="*://*/*?*#*",("*"===a||"<all_urls>"===a)&&(a=b),a},e.prototype.validate=function(a){var b,c,d;null==a&&(a=this.url_parts),c=!0;for(b in a)d=a[b],d.validate()||(c=!1);return c},e.prototype.test=function(a){var b,c,d,e,f,g;if(null!=a){for(g=this.split(a),f=!0,e=["scheme","host","path","params","fragment"],b=0,c=e.length;c>b;b++)d=e[b],this.url_parts[d].test(g[d])||(f=!1);return f}return!1},e}(),h=function(){function a(a){this.original_pattern=a,this.pattern=this.sanitize(a)}return a.prototype.validate=function(a){return null==a&&(a=this.original_pattern),!1},a.prototype.test=function(a,b){return null==a&&(a=""),null==b&&(b=this.pattern),null!=b?b.test(a):!0},a.prototype.sanitize=function(a){return null==a&&(a=this.original_pattern),this.validatePattern?RegExp("^"+a+"$"):null},a}(),f=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.validate=function(a){return null==a&&(a=this.original_pattern),null!=a?/^(\*|[a-z]+)$/.test(a):!1},b.prototype.sanitize=function(a){return null==a&&(a=this.original_pattern),this.validate(a)?(a=a.replace("*","https?"),RegExp("^"+a+"$")):null},b}(h),b=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.validate=function(a){var b,c,d,e,f,g,h,i;if(null==a&&(a=this.original_pattern),null!=a){for(i=[/.+/],c=[/\*\*/,/\*[^\.]+/,/.\*/,/^(\.|-)/,/(\.|-)$/,/[^a-z0-9-.\*]/],g=!0,b=0,e=i.length;e>b;b++)h=i[b],h.test(a)||(g=!1);for(d=0,f=c.length;f>d;d++)h=c[d],h.test(a)&&(g=!1);return g}return!1},b.prototype.sanitize=function(a){return null==a&&(a=this.original_pattern),this.validate(a)?(a=a.replace(/^\*\./,"(*.)?"),a=a.replace(".","\\."),a=a.replace("*","[a-z0-9-.]+"),RegExp("^"+a+"$")):null},b}(h),d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.validate=function(a){return null==a&&(a=this.original_pattern),!0},b.prototype.sanitize=function(a){return null==a&&(a=this.original_pattern),null==a&&(a=""),a=a.replace(/\/$/,"\\/?"),a=a.replace(/\/\*$/,"((/?)|/*)"),a=a.replace(/\*/g,"[a-zA-Z0-9-./_]*"),RegExp("^"+a+"$")},b}(h),c=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.validate=function(a){var b,c,d,e,f;if(null==a&&(a=this.original_pattern),null!=a){for(c=[/\=\=/,/\=[^\&]+\=/,/^\=$/],e=!0,b=0,d=c.length;d>b;b++)f=c[b],f.test(a)&&(e=!1);return e}return!0},b.prototype.sanitize=function(a){var b,c,d,e,f,g,h,i;if(null==a&&(a=this.original_pattern),"*"===a&&(a=null),h={},null!=a)for(f=a.split("&"),b=0,d=f.length;d>b;b++)e=f[b],g=e.split("="),c=g[0],i=g[1],c="*"===c?".+":c.replace(/\*/g,".*"),i=null==i||""===i?"=?":"*"===i?"=?.*":"="+i.replace(/\*/g,".*"),i=i.replace(/[\[\](){}]/g,"\\$&"),h[c]=i;return h},b.prototype.test=function(a,b){var c,d,e,f;null==a&&(a=""),null==b&&(b=this.pattern),e=!0;for(c in b)f=b[c],d=RegExp("(^|\\&)"+c+f+"(\\&|$)"),d.test(a)||(e=!1);return e},b}(h),a=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return j(b,a),b.prototype.validate=function(a){var b,c,d,e,f;if(null==a&&(a=this.original_pattern),null!=a){for(c=[/\#/],e=!0,b=0,d=c.length;d>b;b++)f=c[b],f.test(a)&&(e=!1);return e}return!0},b.prototype.sanitize=function(a){return null==a&&(a=this.original_pattern),this.validate(a)&&null!=a?(a=a.replace(/\*/g,".*"),RegExp("^"+a+"$")):null},b}(h),g=function(){function a(a){null==a&&(a=[]),this.patterns=[],this.add(a)}return a.prototype.add=function(a){var b,c,d;for(null==a&&(a=[]),"string"==typeof a&&(a=[a]),b=0,c=a.length;c>b;b++)d=a[b],l.call(this.patterns,d)<0&&this.patterns.push(d);return this.patterns},a.prototype.remove=function(a){return null==a&&(a=[]),"string"==typeof a&&(a=[a]),this.patterns=this.patterns.filter(function(b){return l.call(a,b)<0})},a.prototype.test=function(a){var b,c,d,f,g;for(g=this.patterns,b=0,c=g.length;c>b;b++)if(d=g[b],f=new e(d),f.test(a))return!0;return!1},a}(),"undefined"!=typeof expose&&null!==expose?expose(g,"UrlMatch"):(i="object"==typeof exports?exports:this,i.UrlMatch=g)}.call(this),function(){var a,b;a=function(){function a(a){null==a&&(a={}),this.setOptions(a)}return a.prototype.default_options={directions_start:0,directions:"right topRight top topLeft left bottomLeft bottom bottomRight".split(" ")},a.prototype.setOptions=function(a){var b,c,d;null==a&&(a={}),this.options={},d=this.default_options;for(b in d)c=d[b],this.options[b]=a[b]||this.default_options[b];return this.options},a.prototype.fromRad=function(a){return a*(180/Math.PI)},a.prototype.toRad=function(a){return a*(Math.PI/180)},a.prototype.normalize=function(a){var b;return null==a&&(a=0),b=isNaN(a)?0:a,b%=360,0>b&&(b+=360),b},a.prototype.toDirection=function(a){var b;return a=this.normalize(a),a-=this.options.directions_start,a=this.normalize(a),b=Math.round(a/(360/this.options.directions.length)),this.options.directions[b]||this.options.directions[0]},a.prototype.fromDirection=function(a){var b,c,d,e,f,g,h;for(e=-1,h=this.options.directions,d=f=0,g=h.length;g>f;d=++f)c=h[d],c===a&&(e=d);return-1===e?null:(b=e*(360/this.options.directions.length),b=this.options.directions_start+b)},a}(),"undefined"!=typeof expose&&null!==expose?expose(a,"Angle"):(b="object"==typeof exports?exports:this,b.Angle=a)}.call(this),function(){var a,b,c;b=function(a,b){return a.currentStyle?a.currentStyle[b]:window.getComputedStyle?document.defaultView.getComputedStyle(a,null).getPropertyValue(b):null},a=function(a){var c,d;return c="none"!==b(a,"display"),d="hidden"!==b(a,"visibility"),c&&d},c=function(b){var c;if(!(null!=(c=document.body)?c.contains(b):void 0))return!1;for(;null!=b&&b!==document.body;){if(!a(b))return!1;b=b.parentNode}return!0},c.all=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)if(b=a[c],!this(b))return!1;return!0},c.any=function(a){var b,c,d;for(c=0,d=a.length;d>c;c++)if(b=a[c],this(b))return!0;return!1},"undefined"!=typeof expose&&null!==expose?expose(c,"isVisible"):window.isVisible=c}.call(this),function(){var a,b,c,d,e,f,g,h,i,j={}.hasOwnProperty,k=function(a,b){function c(){this.constructor=a}for(var d in b)j.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};for(c=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(null==a&&(a=[]),i={},g=["left","top","view_left","view_top"],f=["right","bottom","view_right","view_bottom"],b=[].concat(g,f),d={},j=0,n=b.length;n>j;j++)for(e=b[j],d[e]=[],k=0,o=a.length;o>k;k++)c=a[k],d[e].push(c[e]);for(l=0,p=g.length;p>l;l++)h=g[l],i[h]=Math.min.apply(null,d[h]);for(m=0,q=f.length;q>m;m++)h=f[m],i[h]=Math.max.apply(null,d[h]);return i.width=i.right-i.left,i.height=i.bottom-i.top,i},d=function(a){return null!=a&&"object"==typeof a&&1===a.nodeType&&"object"==typeof a.style&&"object"==typeof a.ownerDocument},b={isVisible:H,Angle:Angle},f=h=0,i=b.length;i>h;f=++h)if(e=b[f],null==f)throw new Error("DomBox requires "+e+" library to operate.");a={angle:new Angle,getBox:function(b){return"string"==typeof b?new this.CollectionBox(b):d(b)?new this.ElementBox(b):b instanceof a.Box?b:null},getDistance:function(b,d){var e,f;return b=a.getBox(b),d=a.getBox(d),e=c([b,d]),f={horizontal:e.width-(b.width+d.width),vertical:e.height-(b.height+d.height)},f.horizontal<0&&(f.horizontal=0),f.vertical<0&&(f.vertical=0),f},detectOverlap:function(b,d){var e,f;return b=a.getBox(b),d=a.getBox(d),e=c([b,d]),f={horizontal:e.width-(b.width+d.width),vertical:e.height-(b.height+d.height)},f.horizontal<0&&f.vertical<0},getPivotDistance:function(b,c){var d,e,f,g;return b=a.getBox(b),c=a.getBox(c),d=b.getPivot(),e=c.getPivot(),f=d.left-e.left,g=d.top-e.top,Math.sqrt(Math.pow(f,2)+Math.pow(g,2))},getPivotAngle:function(b,c){var d,e,f,g;return b=a.getBox(b),c=a.getBox(c),f=b.getPivot(),g=c.getPivot(),e=Math.atan2(g.top-f.top,g.left-f.left),d=a.angle.fromRad(e),a.angle.normalize(d)}},g="object"==typeof exports?exports:this,g.DomBox=a,a.Box=function(){function a(){var a,b,c,d;for(d=this._properties,b=0,c=d.length;c>b;b++)a=d[b],this[a]=0;this.padding=0,this.update()}return a.prototype._properties=["width","height","left","top","right","bottom","view_left","view_top","view_right","view_bottom"],a.prototype.update=function(){return this.pad(this.padding)},a.prototype.setPadding=function(a){return this.padding=a,this.update()},a.prototype.pad=function(a){return null==a&&(a=0),this.width+=2*a,this.height+=2*a,this.left-=a,this.top-=a,this.right+=a,this.bottom+=a,this.view_left-=a,this.view_top-=a,this.view_right+=a,this.view_bottom+=a},a.prototype.getPivot=function(){return{left:this.left+this.width/2,top:this.top+this.height/2}},a.prototype.moveTo=function(a,b){var c,d;return null==a&&(a=this.left),null==b&&(b=this.top),isNaN(a)||(c=this.left-a,this.left=a,this.right=this.left+this.width,this.view_left-=c,this.view_right-=c),isNaN(b)?void 0:(d=this.top-b,this.top=b,this.bottom=this.top+this.height,this.view_top-=d,this.view_bottom-=d)},a.prototype.moveBy=function(a,b){return null==a&&(a=0),null==b&&(b=0),isNaN(a)||(this.left=this.left+a,this.right=this.left+this.width,this.view_left=this.view_left+a,this.view_right=this.view_right+a),isNaN(b)?void 0:(this.top+=b,this.bottom=this.top+this.height,this.view_top+=b,this.view_bottom+=b)},a.prototype.resizeTo=function(a,b){return null==a&&(a=this.width),null==b&&(b=this.height),isNaN(a)||(this.width=0>a?0:a,this.right=this.left+this.width,this.view_right=this.view_left+this.width),isNaN(b)?void 0:(this.height=0>b?0:b,this.bottom=this.top+this.height,this.view_bottom=this.view_top+this.height)},a.prototype.setSize=function(a,b){return this.resizeTo(a,b)},a.prototype.resizeBy=function(a,b){return null==a&&(a=0),null==b&&(b=0),isNaN(a)||(this.width=this.width+a,this.width<0&&(this.width=0),this.right=this.left+this.width,this.view_right=this.view_left+this.width),isNaN(b)?void 0:(this.height=this.height+b,this.height<0&&(this.height=0),this.bottom=this.top+this.height,this.view_bottom=this.view_top+this.height)},a.prototype.setLeft=function(a){var b;return b=a-this.left,this.left=a,this.width=this.right-this.left,this.view_left+=b},a.prototype.setRight=function(a){var b;return b=a-this.right,this.right=a,this.width=this.right-this.left,this.view_right+=b},a.prototype.setTop=function(a){var b;return b=a-this.top,this.top=a,this.height=this.bottom-this.top,this.view_top+=b},a.prototype.setBottom=function(a){var b;return b=a-this.bottom,this.bottom=a,this.height=this.bottom-this.top,this.view_bottom+=b},a.prototype.toString=function(){var a,b,c,d,e;for(b={},e=this._properties,c=0,d=e.length;d>c;c++)a=e[c],b[a]=this[a];return JSON.stringify(b)},a}(),a.ElementBox=function(b){function c(a){this.element=a,c.__super__.constructor.call(this)}return k(c,b),c.prototype.update=function(){var b,d,e,f,g,h,i,j;if(document.body.contains(this.element))b=this.element.getBoundingClientRect(),f=a.Viewport.getPosition(),this.width=null!=(i=b.width)?i:this.element.offsetWidth,this.height=null!=(j=b.height)?j:this.element.offsetHeight,this.view_left=b.left,this.view_top=b.top,this.view_right=b.right,this.view_bottom=b.bottom,this.left=b.left+f.left,this.top=b.top+f.top,this.right=this.left+this.width,this.bottom=this.top+this.height;else for(d=["width","height","left","top","right","bottom","view_left","view_top","view_right","view_bottom"],g=0,h=d.length;h>g;g++)e=d[g],this[e]=0;return c.__super__.update.call(this)},c.prototype.getCssProperty=function(a,b){var c;return null!=window.getComputedStyle?(c=window.getComputedStyle(a,null),c.getPropertyValue(b)):null!=a.currentStyle?(b=b.replace(/-(.)/g,function(a,b){return b.toUpperCase()}),a.currentStyle[b]):null},c}(a.Box),a.CollectionBox=function(b){function d(a){this.selector=a,d.__super__.constructor.call(this)}return k(d,b),d.prototype.update=function(){var b,e,f,g,h,i,j,k;if(b=[],this.selector)for(j=document.querySelectorAll(this.selector),h=0,i=j.length;i>h;h++)e=j[h],H(e)&&b.push(new a.ElementBox(e));0===b.length&&b.push(new a.Box),k=c(b);for(f in k)g=k[f],this[f]=g;return d.__super__.update.call(this)},d}(a.Box),a.Document={getWidth:function(){var a,b;return Math.max(null!=(a=document.body)?a.scrollWidth:void 0,null!=(b=document.body)?b.offsetWidth:void 0,document.documentElement.clientWidth,document.documentElement.scrollWidth,document.documentElement.offsetWidth,0)},getHeight:function(){return Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight,0)},getSize:function(){return{width:a.Document.getWidth(),height:a.Document.getHeight()}}},a.Viewport={getWidth:function(){return window.innerWidth||document.documentElement.clientWidth||0},getHeight:function(){return window.innerHeight||document.documentElement.clientHeight||0},getSize:function(){return{width:a.Viewport.getWidth(),height:a.Viewport.getHeight()}},getLeft:function(){return(window.pageXOffset||document.documentElement.scrollLeft)-(document.documentElement.clientLeft||0)},getTop:function(){return(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0)},getPosition:function(){return{left:a.Viewport.getLeft(),top:a.Viewport.getTop()}},getBox:function(){var b,c;return b=a.Viewport.getPosition(),c=a.Viewport.getSize(),{width:c.width,height:c.height,left:b.left,top:b.top,right:b.left+c.width,bottom:b.top+c.height}},moveInside:function(b){var c,d;return b=a.getBox(b),d=a.Viewport.getBox(),c={left:null,top:null},b.right>d.right&&(c.left=d.right-b.width),b.bottom>d.bottom&&(c.top=d.bottom-b.height),b.left<d.left&&(c.left=d.left),b.top<d.top&&(c.top=d.top),b.moveTo(c.left,c.top)},contains:function(b){var c;return b=a.getBox(b),null==b?!1:(c=this.getBox(),c.left<=b.left&&c.top<=b.top&&c.right>=b.right&&c.bottom>=b.bottom)},partialyContains:function(b){var c,d,e,f,g,h,i;return b=a.getBox(b),null==b?!1:(i=this.getBox(),e=Math.max(b.left,i.left),f=Math.max(b.top,i.top),h=Math.min(b.right,i.right),g=Math.min(b.bottom,i.bottom),d=h-e,c=g-f,d>0&&c>0)},canContain:function(b){return b=a.getBox(b),null==b?!1:b.width<=this.getWidth()&&b.height<=this.getHeight()},canCoexist:function(b,d){var e;return b=a.getBox(b),d=a.getBox(d),null==b||null==d?!1:(e=c([b,d]),e.width<=this.getWidth()&&e.height<=this.getHeight())},canFitAround:function(b,c){var d,e;return b=a.getBox(b),c=a.getBox(c),null==b||null==c?!1:(e=a.Viewport.getBox(),c.width>e.width||c.height>e.height?!1:(d=a.Viewport.getGaps(b),c.width<=d.horizontal.before||c.width<=d.horizontal.after||c.height<=d.vertical.before||c.height<=d.vertical.after))},fitAround:function(b,c){var d;if(b=a.getBox(b),c=a.getBox(c),a.Viewport.canFitAround(b,c)){if(d=a.Viewport.getGaps(b),a.Viewport.moveInside(c),!a.detectOverlap(b,c))return;if(c.width<=d.horizontal.before&&c.moveTo(b.left-c.width,null),!a.detectOverlap(b,c))return;if(c.height<=d.vertical.before&&c.moveTo(null,b.top-c.height),!a.detectOverlap(b,c))return;if(c.width<=d.horizontal.after&&c.moveTo(b.right,null),!a.detectOverlap(b,c))return;if(c.height<=d.vertical.after)return c.moveTo(null,b.bottom)}},getGaps:function(b){var c;return b=a.getBox(b),c=a.Viewport.getBox(),{horizontal:{before:Math.max(0,b.left-c.left),after:Math.max(0,c.right-b.right)},vertical:{before:Math.max(0,b.top-c.top),after:Math.max(0,c.bottom-b.bottom)}}},toString:function(){return JSON.stringify(a.Viewport.getBox())}}}.call(this),function(){var a,b,c,e,h;h=function(){var a,b;return a="http://www.w3.org/TR/SVG11/feature#Image",b="1.1",document.implementation.hasFeature(a,b)}(),b=function(){var a;return a=navigator.userAgent.toLowerCase(),-1!==a.indexOf("safari/")&&-1!==a.indexOf("windows")&&-1===a.indexOf("chrom")}(),e=function(){var a;return b?!1:(a=document.createElement("div"),a.style.cssText="pointer-events:none","none"===a.style.pointerEvents)}(),a=function(){function a(a){null==a&&(a={}),this.checkDependencies(),this.angle_utils=new Angle,this.direction_class_name=null,this.state=!1,this.target=null,this.is_orphan=!0,this.window_handler=null,this.element_monitor=new f(null,{onChange:function(a){return function(){return a.reposition()}}(this)}),this.setOptions(this.default_options),this.setOptions(a)}return a.prototype.default_options={class_name:null,pointer_width:10,pointer_length:50,z_index:1e3,scroll_message:"Scroll into view",disable_smart_position:!1,disable_scroll_message:!1,extra_class_names:{},content:document.createTextNode(""),angle:0,debug:!1,use_svg:h&&e},a.prototype.base_class_name="fczbkk-popover",a.prototype.checkDependencies=function(){var a,b,c,e,h,i;for(a={Angle:Angle,DomBox:DomBox,ClassBridge:d,EventBridge:g,ElementMonitor:f},i=[],c=e=0,h=a.length;h>e;c=++e){if(b=a[c],null==c)throw new Error("Popover requires "+b+" library to operate.");i.push(void 0)}return i},a.prototype.setOptions=function(a){var b,c,d,e;null==a&&(a={}),c={content:"setContent",angle:"setAngle"},e=[];for(b in a)d=a[b],this.default_options.hasOwnProperty(b)?null!=c[b]?e.push(this[c[b]](d)):e.push(this[b]=d):e.push(void 0);return e},a.prototype.setContent=function(a){var b,c,d;return null==a&&(a=""),"string"==typeof a&&(b=document.createElement("div"),b.innerHTML=a,a=b),this.content=null!=(null!=a?a.nodeType:void 0)?a:null,null!=this.ui?(null!=(c=this.ui.content)&&null!=(d=c.parentNode)&&d.removeChild(this.ui.content),this.ui.content=this.createPopoverContent()):void 0},a.prototype.setAngle=function(a){return null==a&&(a=0),"string"==typeof a&&(a=this.angle_utils.fromDirection(a)),this.angle=this.angle_utils.normalize(a)},a.prototype.attach=function(a){return this.element_monitor.setElement(a),this.target=DomBox.getBox(a)},a.prototype.detach=function(){return this.element_monitor.stop(),this.attach(null)},a.prototype.setPosition=function(a){return null==a&&(a={left:0,top:0}),this.ui.wrapper.style.left=""+a.left+"px",this.ui.wrapper.style.top=""+a.top+"px"},a.prototype.positionOrphan=function(){var a,b;return b=DomBox.getBox(this.ui.wrapper),a=DomBox.Viewport.getSize(),this.setPosition({left:(a.width-b.width)/2,top:(a.height-b.height)/2})},a.prototype.positionRegular=function(){var a,b,c,d,e;return e=DomBox.getBox(this.ui.wrapper),c=DomBox.getBox(this.target),DomBox.Viewport.canFitAround(c,e)?(d=c.getPivot(),b=this.getOptimalDistance(e,c),a=this.moveVector(d,b),a.left-=e.width/2,a.top-=e.height/2,e.moveTo(a.left,a.top),this.disable_smart_position||(DomBox.Viewport.moveInside(e),DomBox.Viewport.fitAround(c,e)),this.setPosition(e),this.drawPointer()):this.positionOrphan()},a.prototype.drawPointer=function(){var a,b,c,d,e,f,g,h,i,j,k;return e=DomBox.getBox(this.ui.wrapper),i=DomBox.getBox(this.target),k=DomBox.Viewport.getBox(),i.left<k.left&&i.setLeft(k.left),i.right>k.right&&i.setRight(k.right),i.top<k.top&&i.setTop(k.top),i.bottom>k.bottom&&i.setBottom(k.bottom),this.debug&&(this.clearDebugPoints(),this.drawDebugPoint({left:i.left,top:i.top},"#0c0"),this.drawDebugPoint({left:i.right,top:i.top},"#0c0"),this.drawDebugPoint({left:i.right,top:i.bottom},"#0cc0"),this.drawDebugPoint({left:i.left,top:i.bottom},"#0c0"),this.drawDebugPoint(i.getPivot(),"yellow")),c=DomBox.getPivotAngle(e,i),this.setDirectionClass(this.angle_utils.toDirection(c)),this.use_svg?(a=DomBox.getPivotDistance(i,e),f=this.getHypotenuse(e,c),j=this.getHypotenuse(i,c),d=a-f-j,d<this.pointer_width&&(d=this.pointer_width),g=e.getPivot(),h=this.moveVector(g,f,c),b=this.moveVector(g,a-j,c),this.addPointerShape(h,b,e)):void 0},a.prototype.getHypotenuse=function(a,b){var c,d,e,f,g;return null==b&&(b=this.angle),f=this.angle_utils.toRad(b),e=a.height/2,c=a.width/2,g=Math.abs(e/Math.sin(f)),d=Math.abs(c/Math.cos(f)),Math.min(g,d)},a.prototype.getOptimalDistance=function(a,b,c,d){var e,f;return null==c&&(c=this.angle),null==d&&(d=this.pointer_length),a=DomBox.getBox(a),b=DomBox.getBox(b),e={width:a.width+b.width,height:a.height+b.height},f=this.getHypotenuse(e,c),f+d},a.prototype.moveVector=function(a,b,c){return null==a&&(a={left:0,top:0}),null==b&&(b=0),null==c&&(c=this.angle),c=this.angle_utils.toRad(c),{left:a.left+Math.cos(c)*b,top:a.top+Math.sin(c)*b}},a.prototype.setDirectionClass=function(a){return null==a&&(a=null),null!=this.direction_class_name&&(d.remove(this.ui.base,""+this.base_class_name+"-"+this.direction_class_name),d.remove(this.ui.base,""+this.class_name+"-"+this.direction_class_name)),this.direction_class_name=a,null!=this.direction_class_name?(d.add(this.ui.base,""+this.base_class_name+"-"+this.direction_class_name),d.add(this.ui.base,""+this.class_name+"-"+this.direction_class_name)):void 0},a.prototype.setOrphanClass=function(){if(null!=this.ui.base){if(!this.is_orphan)return d.remove(this.ui.base,""+this.base_class_name+"-orphan"),d.remove(this.ui.base,""+this.class_name+"-orphan");if(d.add(this.ui.base,""+this.base_class_name+"-orphan"),null!=this.class_name)return d.add(this.ui.base,""+this.class_name+"-orphan")}},a.prototype.show=function(){return this.hide(),this.createUi(),this.ui.wrapper.appendChild(this.ui.content),this.ui.wrapper.appendChild(this.ui.scroll_message),this.use_svg&&document.body.appendChild(this.ui.pointer_holder),this.ui.wrapper.appendChild(this.ui.static_pointer),this.ui.base.appendChild(this.ui.wrapper),document.body.appendChild(this.ui.base),
this.reposition(),this.element_monitor.start(),this.state=!0},a.prototype.hide=function(){var a,b,c,d,e,f;return null!=(a=this.ui)&&null!=(b=a.base)&&null!=(c=b.parentNode)&&c.removeChild(this.ui.base),null!=(d=this.ui)&&null!=(e=d.pointer_holder)&&null!=(f=e.parentNode)&&f.removeChild(this.ui.pointer_holder),this.cancelEventListeners(),this.element_monitor.stop(),this.state=!1},a.prototype.toggle=function(){return this.state?this.hide():this.show()},a.prototype.destroy=function(){return this.hide()},a.prototype.createUi=function(){return this.ui={base:this.createBaseElement(),wrapper:this.createPopoverWrapper(),content:this.createPopoverContent(),scroll_message:this.createScrollMessage(),pointer_holder:this.use_svg?this.createPointerHolder():null,pointer:null,static_pointer:this.createStaticPointer()}},a.prototype.createElement=function(a){var b,c,e,f,g,h;for(b=document.createElement("div"),f=a?"-"+a:"",d.add(b,""+this.base_class_name+f),this.class_name&&d.add(b,""+this.class_name+f),c=this.extra_class_names[a]||[],g=0,h=c.length;h>g;g++)e=c[g],d.add(b,e);return b},a.prototype.createBaseElement=function(){var a;return a=this.createElement(),this.use_svg&&(null!=this.class_name&&d.add(a,""+this.class_name+"-supports_svg"),d.add(a,""+this.base_class_name+"-supports_svg")),a.style.zIndex=this.z_index+2,a},a.prototype.createPopoverWrapper=function(){return this.createElement("wrapper")},a.prototype.createPopoverContent=function(){var a;return a=this.createElement("content"),a.appendChild(this.content),a},a.prototype.createScrollMessage=function(){var a;return a=this.createElement("scroll_message"),a.appendChild(document.createTextNode(this.scroll_message)),g.add(a,"click",function(a){return function(){return a.scrollIntoView()}}(this)),a},a.prototype.createPointerHolder=function(){var a,b;return b=document.createElementNS("http://www.w3.org/2000/svg","svg"),b.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),a=[""+this.base_class_name+"-pointer-holder"],this.class_name&&a.push(""+this.class_name+"-pointer-holder"),b.setAttribute("class",a.join(" ")),b.style.zIndex=this.z_index+1,b},a.prototype.createStaticPointer=function(){return this.createElement("static_pointer")},a.prototype.scrollIntoView=function(){var a;return null!=this.target?(this.target.update(),a=document.body.appendChild(document.createElement("div")),a.style.position="absolute",a.style.left=""+this.target.left+"px",a.style.top=""+this.target.top+"px",a.style.width=""+this.target.width+"px",a.style.height=""+this.target.height+"px",a.scrollIntoView(),a.parentNode.removeChild(a)):void 0},a.prototype.updateOrphanState=function(){return null!=this.target?(this.target.update(),this.is_orphan=0===this.target.width&&0===this.target.height):this.is_orphan=!0,this.is_orphan},a.prototype.addPointerShape=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(this.removePointerShape(),f="http://www.w3.org/2000/svg",j=document.createElementNS(f,"polygon"),d={left:a.left,top:a.top,radius:this.pointer_width},h=this.getIntersectionPoints(c,d),h.push(b),k=0,l=h.length;l>k;k++)g=h[k],this.drawDebugPoint(g,"#0000cc");return i=function(){var a,b,c;for(c=[],a=0,b=h.length;b>a;a++)g=h[a],c.push(""+g.left+","+g.top);return c}().join(" "),j.setAttribute("points",i),e=[""+this.base_class_name+"-pointer-shape"],null!=this.class_name&&e.push(""+this.class_name+"-pointer-shape"),j.setAttribute("class",e.join(" ")),this.ui.pointer=this.ui.pointer_holder.appendChild(j)},a.prototype.removePointerShape=function(){var a;return null!=(a=this.ui.pointer)&&a.parentNode.removeChild(this.ui.pointer),this.ui.pointer=null},a.prototype.updateScrollMessage=function(){return this.target.update(),DomBox.Viewport.partialyContains(this.target)?this.hideScrollMessage():this.showScrollMessage()},a.prototype.hideScrollMessage=function(){return this.ui.scroll_message.style.display="none"},a.prototype.showScrollMessage=function(){return this.ui.scroll_message.style.display="block"},a.prototype.cancelEventListeners=function(){return null!=this.window_handler?(g.remove(window,"resize",this.window_handler),g.remove(window,"scroll",this.window_handler),this.window_handler=null):void 0},a.prototype.reposition=function(){return this.updateOrphanState(),this.setOrphanClass(),this.hideScrollMessage(),this.cancelEventListeners(),this.is_orphan?(this.removePointerShape(),this.positionOrphan(),this.window_handler=function(a){return function(){return a.positionOrphan()}}(this),g.add(window,"resize",this.window_handler)):(this.positionRegular(),this.disable_scroll_message||this.updateScrollMessage(),this.disable_smart_position&&this.disable_scroll_message?void 0:(this.window_handler=function(a){return function(){return a.disable_smart_position||a.positionRegular(),a.disable_scroll_message?void 0:a.updateScrollMessage()}}(this),g.add(window,"resize",this.window_handler),g.add(window,"scroll",this.window_handler)))},a.prototype.getChordPoints=function(a,b,c){var d,e,f,g;return f=[],d=c?b-a.left:b-a.top,d=Math.abs(d),d===a.radius&&(e=c?{left:b,top:a.top}:{left:a.left,top:b},f.push(e)),d<a.radius&&(g=Math.sqrt(Math.pow(a.radius,2)-Math.pow(d,2)),c?(f.push({left:b,top:a.top+g}),f.push({left:b,top:a.top-g})):(f.push({left:a.left+g,top:b}),f.push({left:a.left-g,top:b}))),f},a.prototype.getIntersectionPoints=function(a,b){var c;return c=[],c=c.concat(this.getChordPoints(b,a.left,!0)),c=c.concat(this.getChordPoints(b,a.right,!0)),c=c.concat(this.getChordPoints(b,a.top,!1)),c=c.concat(this.getChordPoints(b,a.bottom,!1)),c=c.filter(function(b){var c,d;return a.left<=(c=b.left)&&c<=a.right&&a.top<=(d=b.top)&&d<=a.bottom})},a.prototype.drawDebugPoint=function(a,b){var c,d;return this.debug?(c="http://www.w3.org/2000/svg",d=document.createElementNS(c,"circle"),d.setAttribute("cx",a.left),d.setAttribute("cy",a.top),d.setAttribute("r",5),d.setAttribute("fill",b),d.setAttribute("class","debugPoint"),this.ui.pointer_holder.appendChild(d)):null},a.prototype.clearDebugPoints=function(){var a,b,c,d,e;if(!this.debug)return null;for(b=this.ui.pointer_holder.querySelectorAll(".debugPoint"),e=[],c=0,d=b.length;d>c;c++)a=b[c],e.push(a.parentNode.removeChild(a));return e},a}(),"undefined"!=typeof expose&&null!==expose?expose(a,"Popover"):(c="object"==typeof exports?exports:this,c.Popover=a)}.call(this),function(){var a,b;a={validate:function(a){var b;return b=/[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[89ab][a-f0-9]{3}-[a-f0-9]{12}/,b.test(a)},generate:function(){var a,b,c,d,e,f,g,h;for(c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",d={x:"0123456789abcdef",y:"89ab"},b=function(a){var b;return b=Math.floor(Math.random()*a.length),a.charAt(b)},e="",h=c.split(""),f=0,g=h.length;g>f;f++)a=h[f],e+=null!=d[a]?b(d[a]):a;return e}},"undefined"!=typeof expose&&null!==expose?expose(a,"UUID4"):(b="object"==typeof exports?exports:this,b.UUID4=a)}.call(this),function(){var a,b,c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};a=function(){function a(){this.items=[]}return a.prototype.add=function(a){var b,d,e,f,g,h;if(this.isArray(a)){for(h=[],f=0,g=a.length;g>f;f++)e=a[f],h.push(this.add(e));return h}return b=c.call(this.items,a)<0,d=this.getType(a),b&&d?this.items.push(a):void 0},a.prototype.remove=function(a){var b,c,d,e,f,g,h,i,j;if(this.isArray(a)){for(i=[],d=0,f=a.length;f>d;d++)c=a[d],i.push(this.remove(c));return i}for(h=this.items,j=[],b=e=0,g=h.length;g>e;b=++e)c=h[b],c===a?j.push(this.items.splice(b,1)):j.push(void 0);return j},a.prototype.reset=function(){return this.items=[]},a.prototype.get=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;if(null==a&&(a=document.body),o=[],b=[],null!=(null!=a?a.contains:void 0))for(n=this.items,h=0,k=n.length;k>h;h++)f=n[h],c=function(){switch(this.getType(f)){case"node":return"getByNode";case"collection":return"getByCollection";case"selector":return"getBySelector";case"function":return"getByFunction";default:return null}}.call(this),null!=c&&(g=this[c](a,f),b=b.concat(g));for(i=0,l=b.length;l>i;i++)f=b[i],d=a.contains(f),e=!f.getAttribute("data-element-collector"),e&&d&&o.push(f),f.setAttribute("data-element-collector","1");for(j=0,m=b.length;m>j;j++)f=b[j],f.removeAttribute("data-element-collector");return o},a.prototype.getByNode=function(a,b){return[b]},a.prototype.getByCollection=function(a,b){var c,d;return d=function(){var a,d,e;for(e=[],a=0,d=b.length;d>a;a++)c=b[a],e.push(c);return e}()},a.prototype.getBySelector=function(a,b){var c;return c=a.querySelectorAll(b),this.getByCollection(a,c)},a.prototype.getByFunction=function(a,b){var c,d,e,f,g;for(g=[],c=b(a),this.isEnumerable(c)||(c=[c]),e=0,f=c.length;f>e;e++)d=c[e],this.isNode(d)&&g.push(d);return g},a.prototype.isNode=function(a){return 1===(null!=a?a.nodeType:void 0)},a.prototype.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},a.prototype.isCollection=function(a){return"[object NodeList]"===Object.prototype.toString.call(a)},a.prototype.isEnumerable=function(a){return this.isArray(a)||this.isCollection(a)},a.prototype.isSelector=function(a){var b;if(null==a)return!1;try{document.querySelector(a)}catch(c){return b=c,!1}return!0},a.prototype.isFunction=function(a){return"function"==typeof a},a.prototype.getType=function(a){return this.isNode(a)?"node":this.isCollection(a)?"collection":this.isArray(a)?"array":this.isSelector(a)?"selector":this.isFunction(a)?"function":null},a}(),b="object"==typeof exports?exports:this,b.ElementCollector=a}.call(this),function(){var a,b,c;b=0,a=function(){function a(a,b){null==b&&(b={}),this.checkDependencies(),this.elements=new ElementCollector,this.options={},this.setOptions(this.default_options),this.setOptions(b),this.setElement(a),this.updateMemory()}return a.prototype.default_options={interval:100,onResize:!1,onMove:!1,onVisibilityChange:!1,onShow:!1,onHide:!1,onExistenceChange:!1,onAppear:!1,onVanish:!1,onChange:!1},a.prototype.checkDependencies=function(){var a,b,c,d,e,f;for(a={isVisible:H,ElementCollector:ElementCollector,DomBox:DomBox},f=[],c=d=0,e=a.length;e>d;c=++d){if(b=a[c],null==c)throw new Error("ElementMonitor requires "+b+" library to operate.");f.push(void 0)}return f},a.prototype.setOptions=function(a){var b,c,d;null==a&&(a={}),d=[];for(b in a)c=a[b],null!=this.default_options[b]?d.push(this.options[b]=c):d.push(void 0);return d},a.prototype.getElements=function(){return this.elements.get()},a.prototype.addElement=function(a){return this.elements.add(a)},a.prototype.setElement=function(a){return this.elements.reset(),this.elements.add(a)},a.prototype.tick=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;f=this.getState(),e={size:!1,position:!1,show:!1,hide:!1,appear:!1,vanish:!1},h={},z=this.memory;for(j in z)m=z[j],h[j]=!0;for(j in f)m=f[j],h[j]=!0;for(b=function(){var a;a=[];for(j in h)m=h[j],a.push(j);return a}(),x=0,y=b.length;y>x;x++)g=b[x],d=this.memory[g],a=f[g],n=(null!=d&&null!=(A=d.size)?A.width:void 0)!==(null!=a&&null!=(B=a.size)?B.width:void 0),i=(null!=d&&null!=(C=d.size)?C.height:void 0)!==(null!=a&&null!=(D=a.size)?D.height:void 0),(n||i)&&(e.size=!0),k=(null!=d&&null!=(E=d.position)?E.left:void 0)!==(null!=a&&null!=(F=a.position)?F.left:void 0),l=(null!=d&&null!=(G=d.position)?G.top:void 0)!==(null!=a&&null!=(H=a.position)?H.top:void 0),(k||l)&&(e.position=!0),(null!=d?d.visibility:void 0)===!1&&(null!=a?a.visibility:void 0)===!0&&(e.show=!0),(null!=d?d.visibility:void 0)===!0&&(null!=a?a.visibility:void 0)===!1&&(e.hide=!0),null!=d&&null==a&&(e.vanish=!0),null==d&&null!=a&&(e.appear=!0);c=!1;for(j in e)m=e[j],m&&(c=!0);return c&&"function"==typeof(o=this.options).onChange&&o.onChange(),e.size&&"function"==typeof(p=this.options).onResize&&p.onResize(),e.position&&"function"==typeof(q=this.options).onMove&&q.onMove(),(e.show||e.hide)&&"function"==typeof(r=this.options).onVisibilityChange&&r.onVisibilityChange(),e.show&&"function"==typeof(s=this.options).onShow&&s.onShow(),e.hide&&"function"==typeof(t=this.options).onHide&&t.onHide(),(e.appear||e.vanish)&&"function"==typeof(u=this.options).onExistenceChange&&u.onExistenceChange(),e.appear&&"function"==typeof(v=this.options).onAppear&&v.onAppear(),e.vanish&&"function"==typeof(w=this.options).onVanish&&w.onVanish(),this.updateMemory(f)},a.prototype.start=function(){return this.stop(),this.ticker=setInterval(function(a){return function(){return a.tick()}}(this),this.options.interval)},a.prototype.stop=function(){return null!=this.ticker&&clearInterval(this.ticker),this.ticker=null},a.prototype.destroy=function(){return this.stop()},a.prototype.getExistence=function(a){return document.body.contains(a)},a.prototype.getPosition=function(a){var b;return b=DomBox.getBox(a),{left:b.left,top:b.top}},a.prototype.getVisibility=function(a){return H(a)},a.prototype.getSize=function(a){var b;return b=DomBox.getBox(a),{width:b.width,height:b.height}},a.prototype.isElement=function(a){return null!=a&&"object"==typeof a&&1===a.nodeType},a.prototype.getState=function(){var a,c,d,e,f,g;for(d={},g=this.getElements(),e=0,f=g.length;f>e;e++)a=g[e],a.getAttribute("data-element-monitor-id")||a.setAttribute("data-element-monitor-id",b++),c=a.getAttribute("data-element-monitor-id"),d[c]=this.getElementState(a);return d},a.prototype.getElementState=function(a){var b;return b={},(this.options.onChange||this.options.onMove)&&(b.position=this.getPosition(a)),(this.options.onChange||this.options.onResize)&&(b.size=this.getSize(a)),(this.options.onChange||this.options.onVisibilityChange||this.options.onShow||this.options.onHide)&&(b.visibility=this.getVisibility(a)),b},a.prototype.updateMemory=function(a){return null==a&&(a=this.getState()),this.memory=a},a}(),"undefined"!=typeof expose&&null!==expose?expose(a,"ElementMonitor"):(c="object"==typeof exports?exports:this,c.ElementMonitor=a)}.call(this),function(){var a,b,c,d=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b=function(){},a=function(){function a(a){this.is_active=!1,this.options={},this.setOptions(this.default_options),this.setOptions(a),this.history=[],this.evalLocation()}return a.prototype.default_options={filter:["log","info","warn","error"],codes:{},prefix:null,url_prefix:"boogie",unknown_template:"Unkonwn event.",onRecord:b,onActivate:b,onDeactivate:b},a.prototype.setOptions=function(a){var b,c,d;null==a&&(a={}),c=[];for(b in a)d=a[b],c.push(this.options[b]=d);return c},a.prototype.getTemplateByCode=function(a){var b,c,d,e,f;if(!a)return this.options.unknown_template;for(b=this.options.codes,e=a.split("."),c=0,d=e.length;d>c;c++){if(f=e[c],null==b[f])return this.options.unknown_template;b=b[f]}return b},a.prototype.evalTemplate=function(a,b){switch(null==a&&(a=this.options.unknown_template),null==b&&(b={}),typeof a){case"function":return a(b);case"string":return a;default:return null!=a.toString?a.toString():a}},a.prototype.record=function(a,b,c){var e,f,g;return null==a&&(a="log"),null==b&&(b=null),null==c&&(c={}),this.is_active?(g=this.getTemplateByCode(b),f={type:a,code:b,data:c,timestamp:(new Date).getTime(),message:this.evalTemplate(g,c)},this.history.push(f),d.call(this.options.filter,a)>=0?(e=[f.message,c],null!=this.options.prefix&&e.unshift(this.options.prefix),console[a].apply(console,e),this.options.onRecord(a,b,c,f.message)):void 0):void 0},a.prototype.log=function(a,b){return this.record("log",a,b)},a.prototype.info=function(a,b){return this.record("info",a,b)},a.prototype.warn=function(a,b){return this.record("warn",a,b)},a.prototype.error=function(a,b){return this.record("error",a,b)},a.prototype.activate=function(){return this.is_active=!0,this.options.onActivate()},a.prototype.deactivate=function(){return this.is_active=!1,this.options.onDeactivate()},a.prototype.parseLocation=function(a){var b,c;return c={},null!=(b=a.search)&&b.replace(/^\?/,"").split("&").map(function(a){var b,d,e;return d=a.split("="),b=d[0],e=d[1],c[b]=e}),c},a.prototype.evalLocation=function(a){var b;return null==a&&(a=document.location),b=this.parseLocation(a),null!=b[this.options.url_prefix+"activate"]&&this.activate(),null!=b[this.options.url_prefix+"filter"]?this.setOptions({filter:b[this.options.url_prefix+"filter"].split(",")}):void 0},a}(),"undefined"!=typeof expose&&null!==expose?expose(a,"Boogie"):(c="object"==typeof exports?exports:this,c.Boogie=a)}.call(this);var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa=function(a,b){return function(){return a.apply(b,arguments)}},ba=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},ca=[].slice,da=function(a,b){function c(){this.constructor=a}for(var d in b)ea.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},ea={}.hasOwnProperty;P=function(){},null!=window.isVisible&&(H=window.isVisible.noConflict()),null!=window.Boogie&&(c=window.Boogie.noConflict()),null!=window.ElementMonitor&&(f=window.ElementMonitor.noConflict()),null!=window.Popover&&(j=window.Popover.noConflict()),null!=window.ClassBridge&&(d=window.ClassBridge.noConflict()),null!=window.EventBridge&&(g=window.EventBridge.noConflict()),null!=window.Backdrop&&(b=window.Backdrop.noConflict()),null!=window.UUID4&&(r=window.UUID4.noConflict()),h=function(){function c(a){var b;null==a&&(a={}),this.handleCustomToggleClick=aa(this.handleCustomToggleClick,this),this.checkDependencies(),this.setupDebug(),this.debug.info("init",a),this.createInternals(),this.unsaveCurrentTopic(),this.initState(),this.setupPopover(),this.setupStatisticsModule(a),a=N(this.default_options,a),this._setOptions(a),b=E(),null==b.imPreventActivation&&this.evaluateUserData(function(b){return function(){return b.activateInstance(),b.onSetOptions(a)}}(this))}return c.prototype.activateInstance=function(a){return null==a&&(a={}),this.deactivateByUrlParams(document.location),this.initUi(),this.tick(),this.activateByUrlParams(document.location),null!=window.onpopstate?g.add(window,"popstate",function(a){return function(b){return a.reinit()}}(this)):g.add(window,"hashchange",function(a){return function(){return a.reinit()}}(this)),g.add(window,"storage",function(a){return function(b){return a.handleStorageChange(b)}}(this)),g.add(window,"resize",function(a){return function(b){return a.handleWindowResize(b)}}(this)),this.handleQueue(this.options.queue),this.executeCallback("onInit",this),this.tracking.track({event:"player_init"})},c.prototype.createInternals=function(){return this.options={},this.topics={},this.metadata={},this.rules={},this.launchers=[],this.reinit_observer_enabled=!1,this.backdrop=null,this.panel_backdrop=null,this.current_step=null,this.is_suspended=!1,this.currentStepStorage=new o("InmPlayerCurrent"),this.continuationStorage=new a("InmPlayerContinuation"),this.callbacks=this.default_callbacks,this.autolaunch_enabled=!1,this.persistent_topic_data=new o("InmPlayerTopicData")},c.prototype.setupPopover=function(){return this.popover=new j({class_name:"inmplayer-popover",pointer_length:20}),this.popover.angle_utils.setOptions({directions:"right rightBottom bottomRight bottom bottomLeft leftBottom left leftTop topLeft top topRight rightTop".split(" ")})},c.prototype.setupStatisticsModule=function(a){return null==a&&(a={}),null==a.tracking&&(a.tracking={}),a.tracking.api_key=a.api_key,a.tracking.version=this.version,this.tracking=new n(a.tracking)},c.prototype.checkDependencies=function(){var a,c,e,h,i,k,l;for(a={Backdrop:b,UrlMatch:UrlMatch,Popover:j,ClassBridge:d,EventBridge:g,UUID4:r,isVisible:H,ElementMonitor:f},l=[],k=c=0,h=a.length;h>c;k=++c){if(e=a[k],null==k)throw i="InlineManualPlayer requires "+e+" library to operate.",new Error(i);l.push(void 0)}return l},c.prototype.setL10n=function(a){var b,c,d;null==a&&(a={}),this.l10n={},null!=a.rtl&&null==a.lang_direction&&(a.lang_direction=a.rtl?"rtl":"ltr"),c=this.default_l10n;for(b in c)d=c[b],this.l10n[b]=a[b]||d;return this.setState("l10n",JSON.stringify(this.l10n)),this.tick()},c.prototype.setCallbacks=function(a){var b,c,d;null==a&&(a={}),c=[];for(b in a)d=a[b],null!=this.default_callbacks[b]?(this.callbacks[b]=this.sanitizeCallback(d),"onDebug"===b?c.push(this.debug.setOptions({onRecord:this.callbacks[b]})):c.push(void 0)):c.push(void 0);return c},c.prototype.onSetOptions=function(a){var b;return null==a&&(a={}),null!=a.style&&this.setState("custom_style",a.style),null!=a.skin&&this.setState("skin",a.skin),null!=a.custom_trigger&&(this.setCustomTrigger(a.custom_trigger),delete this.options.custom_trigger),null!=a.hide_branding&&this.setState("hide_branding",a.hide_branding),this.sanitizeStandaloneLaunchers(a.launchers),this.tick(),this.attemptContinuation(),this.is_suspended&&this.current_topic.id&&(b=this.getStepActivatedByUrlTrigger(this.current_topic.id),null!=b&&this._activateStep(this.current_topic.id,b)),null==this.current_topic.id||null==this.current_step?this.attemptAutolaunch():void 0},c.prototype.setOptions=function(a){return null==a&&(a={}),this._setOptions(a),this.onSetOptions(a)},c.prototype._setOptions=function(a){var b,c,d,e,f;null==a&&(a={}),this.debug.info("set_options",a),this.setRules(a.rules),delete a.rules,this.setMetadata(N(null!=(c=a.tracking)?c.metadata:void 0,a.metadata)),delete a.metadata,null!=a.profile_url&&(this.profile_url=a.profile_url,delete a.profile_url),null!=a.uuid_url&&(this.uuid_url=a.uuid_url,delete a.uuid_url);for(b in a)f=a[b],this.options[b]=f;return d=this.options.position,ba.call(this.valid_positions,d)<0&&(this.options.position=this.default_options.position),this.setState("position",this.options.position),null!=a.topics&&(this.setTopics(a.topics),delete this.options.topics),this.setCallbacks(a.callbacks),delete this.options.callbacks,this.setL10n(a.l10n),delete this.options.l10n,this.setActions(a.actions),delete this.options.actions,null!=this.options.skin&&"legacy"!==(e=this.options.skin)&&"sidebar"!==e&&(this.options.skin="sidebar"),null!=a.tracking?this.setupStatisticsModule(a):void 0},c.prototype.updateTopicLaunchers=function(a){var b,c,d,e;return d=this.topics[a],(e=null!=(b=d.launcher)?b.visibility:void 0)&&(c=!1,"always"===e&&(c=!0),"inactive"===e&&this.current_topic.id!==a&&(c=!0),c)?d.launcher_object.add():void 0},c.prototype.updateStepLaunchers=function(a,b){var c,d,e,f;return e=this.topics[a].steps[b],(f=null!=(c=e.launcher)?c.visibility:void 0)&&(d=!1,"always"===f&&(d=!0),"active"===f&&this.current_topic.id===a&&(d=!0),"inactive"===f&&this.current_topic.id!==a&&(d=!0),d)?e.launcher_object.add():void 0},c.prototype.updateLaunchers=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;this.removeLaunchers(),f=this.getValidTopics();for(m in f)if(l=f[m],this.updateTopicLaunchers(m),null!=l.steps)for(g=l.steps,k=a=0,d=g.length;d>a;k=++a)j=g[k],this.updateStepLaunchers(m,k);for(h=this.launchers,i=[],b=0,e=h.length;e>b;b++)c=h[b],i.push(c.add());return i},c.prototype.removeLaunchers=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n;f=this.topics;for(n in f)if(m=f[n],null!=(g=m.launcher_object)&&g.remove(),null!=m.steps)for(h=m.steps,a=0,d=h.length;d>a;a++)l=h[a],null!=(i=l.launcher_object)&&i.remove();for(j=this.launchers,k=[],b=0,e=j.length;e>b;b++)c=j[b],k.push(c.remove());return k},c.prototype.sanitizeStandaloneLaunchers=function(a){var b,c,d,e,f,g,h;for(null==a&&(a=[]),this.launchers=[],b=function(a){return function(b,c){var e,f;return e=P,null!=b&&(e=function(){return a._activateTopic(b)}),null!=b&&null!=c&&(e=function(){return a._activateStep(b,c)}),d.on_activate&&(e=a.sanitizeCallback(d.on_activate)),d.on_activate=function(){return a.handleTopicStart("launcher"),e()},d.on_deactivate=function(){return a.deactivate()},f=new a.Launcher(d),a.launchers.push(f)}}(this),c=0,f=a.length;f>c;c++)e=a[c],e=N(this.options.launcher_options,e),d=this.sanitizeLauncherOptions(e),e.class_name+=" "+this.classname_namespace+"-launcher-standalone",h=d.topic,g=d.step,b(h,g);return this.setState("standalone_launchers",this.getState("standalone_launchers")+1),this.launchers},c.prototype.loadOptions=function(a,b){return null==b&&(b=P),u(a,null,function(a){return function(c){var d;return d=Q(c),a.setOptions(d),b(a)}}(this))},c.prototype.sanitizeStep=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;for(null==a&&(a={}),null==d&&(d={}),n=N(this.options.step_options,(null!=(l=this.topics[b])?l.step_options:void 0)||{},a),f=this.options.base_path,o=this.options.variables,null!=n.path&&(n.path=R(n.path,f,o)),null!=n.element?_(n.element)||(this.debug.warn("invalid.selector",{step:n,selector:n.element}),n.element=null):n.element=null,null==n.position&&(n.position=n.placement),n.position=function(){switch(n.position){case"right_top":return"rightTop";case"top_right":return"topRight";case"top_left":return"topLeft";case"left_top":return"leftTop";case"left_bottom":return"leftBottom";case"bottom_left":return"bottomLeft";case"bottom_right":return"bottomRight";case"right_bottom":return"rightBottom";default:return n.position}}(),n.url_trigger=this.sanitizeUrlTrigger(n.url_trigger),null==n.width&&(n.width=300),null!=n.launcher&&(i=this.launcher_options.class_name+"-"+b+"-"+c,j=N(this.options.launcher_options,d.launcher_options||{},n.launcher),n.launcher=this.sanitizeLauncherOptions(j),null==(e=n.launcher).element&&(e.element=n.element),n.launcher.class_name+=" "+i,n.launcher.class_name+=" "+this.classname_namespace+"-launcher-step",n.launcher.on_activate=function(a){return function(d,e){var f;return a.tracking.track({event:"launcher_activate",topic:b,step:c}),f=function(){switch(d.options.point_at){case"step":return n.element;case"launcher":return d.options.element;case"self":return"."+i;default:return"."+i}}(),a._activateStep(b,c,null,f)}}(this),n.launcher.on_deactivate=function(a){return function(){return a.deactivate()}}(this),n.launcher.on_add=function(a){return function(d,e){return a.setZIndex(e,"launcher",b,c)}}(this),n.launcher_object=new this.Launcher(n.launcher)),m=["on_activate","on_deactivate","on_show"],h=0,k=m.length;k>h;h++)g=m[h],n[g]=this.sanitizeCallback(n[g]);return n},c.prototype.sanitizeSteps=function(a,b,c){var d,e,f,g,h;for(null==a&&(a=[]),f=[],h=d=0,e=a.length;e>d;h=++d)g=a[h],f.push(this.sanitizeStep(g,b,h,c));return f},c.prototype.sanitizeContextPaths=function(a){var b,c,d,e,f,g;for(null==a&&(a=[]),b=this.options.base_path,g=this.options.variables,f=[],c=0,d=a.length;d>c;c++)e=a[c],f.push(R(e,b,g));return f},c.prototype.sanitizeLauncherOptions=function(a){var b,c,d,e,f;null==a&&(a={}),e=a,c=this.launcher_options;for(b in c)f=c[b],null==e[b]&&(e[b]=f);return 0===(null!=(d=e.context_paths)?d.length:void 0)&&(this.debug.warn("launcher.context_path_empty",a),e.context_paths=null),null!=e.context_paths&&(e.context_paths=this.sanitizeContextPaths(e.context_paths)),e},c.prototype.sanitizeTopic=function(a,b){var c,d,e,f,g,h,i,j;for(null==a&&(a={}),i=N(this.options.topic_options,a),j=["default","redirect"],g=i.type,ba.call(j,g)<0&&(i.type=j[0]),"redirect"===i.type&&null==i.url&&this.debug.warn("topic_redirect_without_url",b),i.context_paths=this.sanitizeContextPaths(i.context_paths),null==i.language&&(i.language="en"),i.language_agnostic=!!i.language_agnostic,null!=i.launcher&&(e=N(this.options.launcher_options,i.launcher_options||{},i.launcher),i.launcher=this.sanitizeLauncherOptions(e),i.launcher.class_name+=" "+this.classname_namespace+"-launcher-topic",i.launcher.on_activate=function(a){return function(){return a.handleTopicStart("launcher"),a.tracking.track({event:"launcher_activate",topic:b}),a._activateTopic(b)}}(this),i.launcher.on_deactivate=function(a){return function(){return a.deactivate()}}(this),i.launcher.on_add=function(a){return function(c,d){return a.setZIndex(d,"launcher",b)}}(this),i.launcher_object=new this.Launcher(i.launcher)),i.steps=this.sanitizeSteps(i.steps,b,i),h=["on_start","on_previous","on_next","on_end"],d=0,f=h.length;f>d;d++)c=h[d],i[c]=this.sanitizeCallback(i[c]);return i},c.prototype.sanitizeTopics=function(a){var b,c;null==a&&(a={});for(c in a)b=a[c],a[c]=this.sanitizeTopic(b,c);return a},c.prototype.setTopics=function(a){return null==a&&(a={}),this.topics=this.sanitizeTopics(a),this.deactivate(!0),this.setTopicTriggerElements(),this.setState("topics",this.getState("topics")+1),this.tick()},c.prototype.setTopicTriggerElements=function(a){var b,c,d,e;null==a&&(a=this.topics),c=[];for(d in a)e=a[d],null!=e.trigger_element?(b=new ElementCollector,b.add(e.trigger_element),c.push(function(a){return function(c){var d,e,f,h,i;for(h=b.get(),i=[],e=0,f=h.length;f>e;e++)d=h[e],i.push(g.add(d,"click",function(){return a.handleTopicStart("trigger"),a._activateTopic(c)}));return i}}(this)(d))):c.push(void 0);return c},c.prototype.sanitizeUrlTrigger=function(a){var b,c,d;return null==a&&(a={}),null==a.url||"any"!==(c=a.scope)&&"current"!==c?null:(b=this.options.base_path,d=this.options.variables,a.url=this.sanitizeUrl(a.url),a)},c.prototype.getStepActivatedByUrlTrigger=function(a){var b,c,d,e,f;for(e=this.topics[a].steps,b=c=0,d=e.length;d>c;b=++c)if(f=e[b],null!=f.url_trigger&&"any"===f.url_trigger.scope&&W(f.url_trigger.url))return b;return null},c.prototype.countTopicSteps=function(a){var b,c;return null!=(b=this.topics[a])&&null!=(c=b.steps)?c.length:void 0},c.prototype.activateTopic=function(){return this.handleTopicStart("api"),this._activateTopic.apply(this,arguments)},c.prototype._activateTopic=function(a){var b,c,d,e,f,g,h,i,j;if(!this.isValidTopic(a))return!1;switch(this.hidePanel(),g=null!=(b=this.getStepActivatedByUrlTrigger(a))?b:0,this.tracking.track({event:"topic_start",topic:a,steps:this.countTopicSteps(a),origin:null!=(c=this.persistent_topic_data.get())?c.origin:void 0,action_type:(null!=(d=this.persistent_topic_data.get())?d.action_type:void 0)||null,action_id:(null!=(e=this.persistent_topic_data.get())?e.action_id:void 0)||null,topic_session_id:null!=(f=this.persistent_topic_data.get())?f.session_id:void 0}),this.executeTopicCallback("on_start",a,g),this.executeCallback("onTopicStart",this,a,g),i=this.topics[a],i.type){case"redirect":h=i.redirect_target||null,j=this.sanitizeUrl(i.url),this.redirect(j,h);break;default:return this._activateStep(a,g)}},c.prototype.deactivateStep=function(){return this.setState("step_displayed",!1)},c.prototype.undisplayStep=function(){return this.setState("step_displayed",!1),this.is_suspended!==!0&&this.unsetPrerequisites(),this.removeCurrentStepTriggers(),this.popover.destroy(),this.deactivateBackdrop()},c.prototype.activateStep=function(){return this._activateStep.apply(this,arguments)},c.prototype._activateStep=function(a,b,c,d){var e,f,g,h;if(null==c&&(c=!1),null==d&&(d=null),!this.isValidTopic(a))return!1;if(h=null!=(f=this.topics[a])?f.steps[b]:void 0,null==h)return void this.debug.error("activate.missing_data",{topic_id:a,step_id:b});if(this.debug.info("step.activated",{topic_id:a,step_id:b}),this.executeCallback("onStepActivate",this,a,b),this.deactivateStep(),this.topics[a].steps[b].target_element=d,this.saveCurrentStep(a,b),this.is_suspended=!0,c||!this.isStepActivatedByTrigger(h)){if(this.setPrerequisites(h,a,b,c),e=!0,g=!0,null!=h.path&&!W(h.path))return e=!1,this.debug.info("step.activate.redirect",{topic_id:a,step_id:b,url:h.path}),void this.redirect(h.path);this.continuationStorage.forget(),null!=this.condition_prerequisite&&(e=!1,this.debug.info("step.activate.unmet_condition",{topic_id:a,step_id:b})),null!=this.delay_prerequisite&&(e=!1,this.debug.info("step.activate.delay",{topic_id:a,step_id:b})),null!=h.url_trigger&&(W(h.url_trigger.url)||(e=!1,g=!1,this.debug.info("step.activate.url_match",{topic_id:a,step_id:b,url_pattern:h.url_trigger.url}))),this.setState("step_displayed",e),!e&&g&&(null!=this.condition_prerequisite&&this.condition_prerequisite.start(),null!=this.delay_prerequisite&&this.delay_prerequisite.start())}return this.tick()},c.prototype.displayStep=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;return null==a&&(a=this.current_topic.id),null==b&&(b=this.current_step),p=null!=(f=this.topics[a])?f.steps[b]:void 0,
null!=p?(this.setState("step_displayed",!0),this.debug.info("step.display",{topic_id:a,step_id:b}),this.tracking.track({event:"step_display",topic:a,steps:this.countTopicSteps(a),step:b,origin:null!=(g=this.persistent_topic_data.get())?g.origin:void 0,action_type:(null!=(h=this.persistent_topic_data.get())?h.action_type:void 0)||null,action_id:(null!=(i=this.persistent_topic_data.get())?i.action_id:void 0)||null,topic_session_id:null!=(j=this.persistent_topic_data.get())?j.session_id:void 0}),d=this.countTopicSteps(this.current_topic.id)-1===this.current_step,c=this.current_topic.last_step_displayed===!1,d&&c&&(this.current_topic.last_step_displayed=!0,this.tracking.track({event:"topic_done",topic:this.current_topic.id,steps:this.countTopicSteps(this.current_topic.id),origin:null!=(k=this.persistent_topic_data.get())?k.origin:void 0,action_type:(null!=(l=this.persistent_topic_data.get())?l.action_type:void 0)||null,action_id:(null!=(m=this.persistent_topic_data.get())?m.action_id:void 0)||null,topic_session_id:null!=(n=this.persistent_topic_data.get())?n.session_id:void 0})),this.addCurrentStepTriggers(a,b),this.is_suspended=!1,this.scrollElementToViewport(p.element),e=this.getPopoverClassNames(a,b),this.initPopover(p,e),p.backdrop&&this.activateBackdrop(p.element,p.backdrop_cover,p.backdrop_options),null!=(o=p.launcher_object)&&(o.is_active=!0),this.executeStepCallback("on_show",a,b),this.executeCallback("onStepShow",this,a,b)):void 0},c.prototype.scrollElementToViewport=function(a){var b,c;return b=new ElementCollector,b.add(a),c=b.get()[0],null==c||DomBox.Viewport.contains(c)?void 0:c.scrollIntoView()},c.prototype.redirect=function(a,b){return this.debug.info("redirect",{url:a,target:b}),this.callbacks.onRedirect(this,a,b,this.doRedirect)},c.prototype.doRedirect=function(a,b){return null!=b?window.open(a,b):document.location=a},c.prototype.isStepActivatedByTrigger=function(a){var b,c,d,e;if(null==a&&(a={}),null!=a.triggers)for(d=a.triggers,b=0,c=d.length;c>b;b++)if(e=d[b],"current"===e.scope&&"current"===e.activate)return!0;return!1},c.prototype.unsaveCurrentTopic=function(){return this.current_topic={id:null,last_step_displayed:!1}},c.prototype.unsaveCurrentStep=function(){var a,b,c,d,e,f;return f=this.current_topic.id,d=this.current_step,e=this.topics[f],c=null!=e?e.steps[d]:void 0,null!=e&&null!=(a=e.launcher_object)&&(a.is_active=!1),null!=c&&null!=(b=c.launcher_object)&&(b.is_active=!1),this.executeStepCallback("on_deactivate",f,d),this.current_topic.id=null,this.current_step=null,this.setState("topic_id",null),this.setState("step_id",null)},c.prototype.saveCurrentStep=function(a,b){return this.unsaveCurrentStep(),this.current_topic.id=a,this.current_step=b,this.executeStepCallback("on_activate",a,b),this.currentStepStorage.set({topic_id:a,step_id:b}),this.setState("topic_id",a),this.setState("step_id",b),this.tick()},c.prototype.getPopoverClassNames=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(l=[],m=null!=(j=this.topics[a])?j.steps[b]:void 0,null!=m){if(null!=m.class_names)for(k=m.class_names,d=0,f=k.length;f>d;d++)c=k[d],l.push(c);for(h=["hide_title","hide_prev","hide_next","hide_progress","hide_navigation","hide_end","hide_controls","hide_close"],e=0,g=h.length;g>e;e++)i=h[e],m[i]&&l.push(i);0===b&&l.push(this.classname_namespace+"-firstStep"),b===this.topics[a].steps.length-1&&l.push(this.classname_namespace+"-lastStep")}return l},c.prototype.initPopover=function(a,b){return null==b&&(b={}),this.popover.setContent(this.constructPopover(a)),this.popover.setAngle(a.position),this.popover.attach(a.target_element||a.element),this.ui_elements.popover_content.getNode().style.width=a.width+"px",this.popover.extra_class_names={wrapper:b},this.popover.setOptions({z_index:this.getZIndex("popover"),disable_smart_position:this.options.popover_disable_smart_position}),this.popover.show(),this.setLangDirectionClass(this.popover.ui.base)},c.prototype.endTopic=function(){var a,b,c,d;return this.tracking.track({event:"topic_end",topic:this.current_topic.id,steps:this.countTopicSteps(this.current_topic.id),step:this.current_step,origin:null!=(a=this.persistent_topic_data.get())?a.origin:void 0,action_type:(null!=(b=this.persistent_topic_data.get())?b.action_type:void 0)||null,action_id:(null!=(c=this.persistent_topic_data.get())?c.action_id:void 0)||null,topic_session_id:null!=(d=this.persistent_topic_data.get())?d.session_id:void 0}),this.executeTopicCallback("on_end",this.current_topic.id,this.current_step),this.executeCallback("onTopicEnd",this,this.current_topic.id,this.current_step),this.deactivate()},c.prototype.goToStep=function(){return this._goToStep.apply(this,arguments)},c.prototype._goToStep=function(a){var b;return null==a&&(a=0),null!=this.current_topic.id?("previous"===a&&(a=this.current_step-1,this.executeTopicCallback("on_previous",this.current_topic.id,a),this.executeCallback("onTopicPrevious",this,this.current_topic.id,a)),"next"===a&&(a=this.current_step+1,this.executeTopicCallback("on_next",this.current_topic.id,a),this.executeCallback("onTopicNext",this,this.current_topic.id,a)),b=this.topics[this.current_topic.id].steps.length,a>=b?this.deactivate():this._activateStep(this.current_topic.id,a)):void 0},c.prototype.deactivate=function(a){return null==a&&(a=!1),null!=this.current_topic.id&&this.debug.info("deactivate.topic",{topic_id:this.current_topic.id}),this.unsaveCurrentStep(),this.unsaveCurrentTopic(),this.deactivateStep(),this.removeObserver(),a||this.currentStepStorage.forget(),this.tick()},c.prototype.destroy=function(){return this.deactivate(),this.destroyUi(),this.removeLaunchers(),this.executeCallback("onDestroy",this)},c.prototype.attemptContinuation=function(){var a,b,c,d,e,f,g,h,i;return b=this.currentStepStorage.get(),a=this.continuationStorage.get(),null!=b&&(this.debug.info("continuation_attempt",{topic_id:b.topic_id,step_id:b.step_id,attempt:a}),h=null!=b.topic_id&&null!=b.step_id)?(i=null!=(d=this.topics[b.topic_id])&&null!=(e=d.steps)&&null!=(f=e[b.step_id])?f.max_continuation_attempts:void 0,c=i||this.options.max_continuation_attempts,g=0===c||c>a,h&&g?(this.continuationStorage.set(),this._activateStep(b.topic_id,b.step_id)):(this.continuationStorage.forget(),this.currentStepStorage.forget())):void 0},c.prototype.triggers=[],c.prototype.showPanel=function(){return this.tracking.track({event:"widget_open"}),this.setState("panel_trigger",!1),this.setState("panel",!0),this.tick()},c.prototype.hidePanel=function(){return this.setState("panel_trigger",!0),this.setState("panel",!1),this.tick()},c.prototype.togglePanel=function(){return this.state.panel?this.hidePanel():this.showPanel()},c.prototype.updateList=function(a){var b,c,d,e,f,g,h;if(null==a&&(a=[]),g=this.ui_elements.panel_list.getNode(),g.innerHTML="",a.length>0){for(h=[],e=0,f=a.length;f>e;e++)b=a[e],c=b.class_names||[],c.push("list-item"),b.highlight&&c.push("highlight"),d=new this.UiElement({attributes:{"class":this.getNsClasses(c)},data:{content:b.content},events:{click:b.callback}}),h.push(d.add(g));return h}return this.ui_elements.list_empty.setData({content:X(this.l10n.empty_topics_list,this.options.language)}),this.ui_elements.list_empty.add(g)},c.prototype.getAllListItems=function(){return this.ui.querySelectorAll("."+this.classname_namespace+"-list-item")},c.prototype.getListItem=function(a){return null==a&&(a=-1),this.getAllListItems()[a]},c.prototype.highlightItem=function(a){var b;return b=this.getListItem(a),null!=b?d.add(b,this.classname_namespace+"-highlight"):void 0},c.prototype.unhighlightItem=function(a){var b;return b=this.getListItem(a),null!=b?d.remove(b,this.classname_namespace+"-highlight"):void 0},c.prototype.unhighlightAllItems=function(){var a,b,c,d;for(d=[],a=b=0,c=this.getAllListItems().length;c>=0?c>=b:b>=c;a=c>=0?++b:--b)d.push(this.unhighlightItem(a));return d},c.prototype.destroyUi=function(){var a,b,c,d,e,f,g,h,i;b=this.ui_elements;for(a in b)i=b[a],i.remove();return null!=(c=this.ui)&&null!=(d=c.parentNode)&&d.removeChild(this.ui),this.ui=null,null!=(e=this.default_style_element)&&null!=(f=e.parentNode)&&f.removeChild(this.default_style_element),this.default_style_element=null,null!=(g=this.custom_style_element)&&null!=(h=g.parentNode)&&h.removeChild(this.custom_style_element),this.custom_style_element=null,this.removeCustomTrigger()},c.prototype.initUi=function(){return this.removeObserver(),this.destroyUi(),this.addCustomTrigger(),this.createUiElements(),this.default_style_element=this.constructStyle(B),this.ui=document.body.appendChild(document.createElement("div")),this.setUiClassNames(),this.observer||this.addObserver(),this.tick(!0)},c.prototype.setUiClassNames=function(){var a;return null!=this.ui?(this.ui.className="",a=this.getNsClasses(["general","position-"+this.options.position,"skin-"+this.options.skin]),d.add(this.ui,a),this.setLangDirectionClass(this.ui),this.setSkinClass()):void 0},c.prototype.custom_trigger_collection=new ElementCollector,c.prototype.setCustomTrigger=function(a){return null==a&&(a=this.options.custom_trigger),this.removeCustomTrigger(),this.custom_trigger_collection.reset(),this.custom_trigger_collection.add(a),this.addCustomTrigger()},c.prototype.removeCustomTrigger=function(){var a,b,c,d,e;for(d=this.custom_trigger_collection.get(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(g.remove(a,"click",this.handleCustomToggleClick));return e},c.prototype.addCustomTrigger=function(){var a,b,c,d,e;for(d=this.custom_trigger_collection.get(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(g.add(a,"click",this.handleCustomToggleClick));return e},c.prototype.handleCustomToggleClick=function(){return this.togglePanel()},c.prototype.evaluateTemplate=function(a,b,c){var d,e,f;null==b&&(b=""),null==c&&(c=this.l10n),e=a.template,e=e.replace("%classname%",a.classname),e=e.replace("%content%",b);for(d in c)f=c[d],e=e.replace("%"+d+"%",X(f,this.options.language));return e},c.prototype.constructStyle=function(a){var b,c;return null==a&&(a=""),b=document.head||document.querySelector("head"),c=document.createElement("style"),c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c),c},c.prototype.constructPopover=function(a){var b,c,d;return this.ui_elements.popover_title.setData({content:X(a.title,this.options.language)}),this.ui_elements.popover_content.setData({content:X(a.content,this.options.language)}),this.ui_elements.popover_button_prev.setData({content:X(this.l10n.previous,this.options.language)}),this.ui_elements.popover_button_next.setData({content:X(this.l10n.next,this.options.language)}),this.ui_elements.popover_button_end.setData({content:X(this.l10n.end,this.options.language)}),this.ui_elements.popover_progress.setData({current_step:this.current_step+1,total_steps:(null!=(c=this.topics[this.current_topic.id])?c.steps.length:void 0)||0}),b=this.ui_elements.popover_controls.getNode(),this.ui_elements.popover_button_prev.add(b),this.ui_elements.popover_button_next.add(b),this.ui_elements.popover_button_end.add(b),this.ui_elements.popover_progress.add(b),d=document.createElement("div"),this.ui_elements.popover_title.add(d),this.ui_elements.popover_content.add(d),this.ui_elements.popover_controls.add(d),this.ui_elements.popover_close_button.add(d),d},c.prototype.displayTopics=function(a,b){var c,d,e,f,g,h,i,j,k;for(null==a&&(a=this.topics),null==b&&(b={}),c={search:null},b=N(c,b),d=[],h=[],g=this.sortTopics(this.getValidTopics()),e=0,f=g.length;f>e;e++)j=g[e],i=a[j],null!=i&&!function(a){return function(c,e){var f,g,i;return f=!0,e.hidden&&(f=!1),e.visibility&&(a.evaluateRule(e.visibility)||(f=!1)),f?(i=X(e.title,a.options.language),null!=b.search&&(i=a.highlightSearchResult(i,b.search)),g={content:i,class_names:[],callback:function(){return a.handleTopicStart("topic_list"),a._activateTopic(c)}},c===a.current_topic.id&&g.class_names.push("active"),"redirect"===e.type&&W(e.url)&&(g.highlight=!0,d.push(g)),W(e.context_paths)?(g.highlight=!0,d.push(g)):h.push(g)):void 0}}(this)(j,i);return k=this.options.context_topics_only?d:[].concat(d,h),this.updateList(k)},c.prototype.isValidSelector=function(a){var b,c;c=!0;try{document.querySelector(a)}catch(d){b=d,c=!1}return c},c.prototype.constructCondition=function(a){var b,c;return null==a&&(a={}),c=null,null!=a.condition&&(b=a.condition,"inherit"===b.type&&null!=a.element&&(b.type="selector",b.value=a.element),null!=b.value?c=this.createConditionCallback(b):this.debug.warn("invalid.condition",a.title)),c},c.prototype.createConditionCallback=function(a){switch(null==a&&(a={}),a.type){case"function":return this.sanitizeCallback(a.value);case"selector":return function(){var b,c,d,e,f;for(b=new ElementCollector,b.add(a.value),f=b.get(),d=0,e=f.length;e>d;d++)if(c=f[d],H(c))return!0;return!1};default:return null}},c.prototype.constructConditionPrerequisite=function(a,b){var c;return null==a&&(a={}),null==b&&(b=P),(c=this.constructCondition(a))?new this.Prerequisite({check:c,onFinish:b}):null},c.prototype.constructDelayPrerequisite=function(a,b){var c;return null==a&&(a={}),null==b&&(b=P),(null!=a?a.delay:void 0)&&a.delay>0?(c=new this.DelayCallback,new this.Prerequisite({check:function(){return c.check()},interval:1e3*a.delay,onStart:function(b){return function(){return b.debug.info("step.delay",{title:a.title,delay:a.delay})}}(this),onFinish:b})):null},c.prototype.setPrerequisites=function(a,b,c,d){var e,f,g;return g=function(a){return function(){return a.setState("step_displayed",!0),a.tick()}}(this),e=this.constructConditionPrerequisite(a,g),f=this.constructDelayPrerequisite(a,g),null!=e&&null!=f?(this.condition_prerequisite=this.constructConditionPrerequisite(a,function(){return f.start()}),this.delay_prerequisite=null):(this.condition_prerequisite=e,this.delay_prerequisite=f)},c.prototype.unsetPrerequisites=function(){var a,b;return null!=(a=this.condition_prerequisite)&&a.stop(),null!=(b=this.delay_prerequisite)?b.stop():void 0},c.prototype.activateBackdrop=function(a,c,d){var e,f,g,h,i,j,k,l;for(null==c&&(c=!1),null==d&&(d={}),this.deactivateBackdrop(),e={z_index:this.getZIndex("backdrop"),hide_on_click:!1,cover:c,watch:!0},k=["color","opacity","padding"],f=0,h=k.length;h>f;f++)i=k[f],j=this.options["backdrop_"+i],null!=j&&(e[i]=j);for(g in d)l=d[g],e[g]=l;return this.backdrop=new b(e),this.backdrop.show(a)},c.prototype.deactivateBackdrop=function(){var a,b;return null!=(a=this.backdrop)&&a.destroy(),this.backdrop=null,null!=(b=this.panel_backdrop)&&b.destroy(),this.panel_backdrop=null},c.prototype.setLangDirectionClass=function(a){var b;return b=X(this.l10n.lang_direction,this.options.language),d.add(a,"inmplayer-lang-direction-"+b)},c.prototype.setSkinClass=function(){var a,b;return b=this.getNsClasses("skin-"+this.last_remembered_state.skin),a=this.getNsClasses("skin-"+this.options.skin),d.remove(this.ui,b),d.add(this.ui,a)},c.prototype.reinit=function(a){return null==a&&(a=document.body),this.initUi(),this.tick(!0),this.popover.hide(),this.popover.createUi(),null!=this.current_topic.id&&null!=this.current_step&&this._activateStep(this.current_topic.id,this.current_step),this.updateLaunchers()},c.prototype.manualReinit=function(a){return null==a&&(a=document.body),this.reinit(a)},c.prototype.belongsToUi=function(a){var b,c,d,e,f,g,h,i;for(i=[this.ui,null!=(d=this.popover)&&null!=(e=d.ui)?e.base:void 0,null!=(f=this.popover)&&null!=(g=f.ui)?g.pointer_holder:void 0],b=0,c=i.length;c>b;b++){if(h=i[b],a===h)return!0;if(null!=h?h.contains(a):void 0)return!0}return!1},c.prototype.observer=null,c.prototype.addObserver=function(){var a;return null==window.MutationObserver?null:this.reinit_observer_enabled?(this.removeObserver(),this.observer=new MutationObserver(function(a){return function(b){var c,d,e,f,g,h,i,j,k,l,m;for(m=!1,c=0,f=b.length;f>c;c++){for(i=b[c],k=i.addedNodes,d=0,g=k.length;g>d;d++)j=k[d],a.belongsToUi(j)||(m=!0);for(l=i.removedNodes,e=0,h=l.length;h>e;e++)j=l[e],a.belongsToUi(j)&&(m=!0)}return m?a.reinit():void 0}}(this)),a={childList:!0,subtree:!0},this.observer.observe(document.body,a)):null},c.prototype.removeObserver=function(){return null!=this.observer?(this.observer.disconnect(),this.observer=null):void 0},c.prototype.enableObserver=function(){return this.reinit_observer_enabled=!0,this.addObserver()},c.prototype.disableObserver=function(){return this.reinit_observer_enabled=!1,this.removeObserver()},c.prototype.current_step_triggers=[],c.prototype.addCurrentStepTriggers=function(a,b){var c,d,e,f,g,h,i,j,k;for(i=null!=(g=this.topics[a])?g.steps[b]:void 0,d=(null!=i?i.triggers:void 0)||[],h=[],e=0,f=d.length;f>e;e++)j=d[e],"current"===j.scope?(k=new this.Trigger(j,this),null==(c=k.options).element&&(c.element=i.element),k.topic_id=a,k.step_id=b,k.tour=this,k.add(),h.push(this.current_step_triggers.push(k))):h.push(void 0);return h},c.prototype.removeCurrentStepTriggers=function(){var a,b,c,d;for(c=this.current_step_triggers,a=0,b=c.length;b>a;a++)d=c[a],d.remove();return this.current_step_triggers=[]},c.prototype.sortTopics=function(a){var b,c,d,e,f,g,h;null==a&&(a={}),g=[];for(d in a)h=a[d],g.push({key:d,val:h});for(g=g.sort(function(a,b){var c,d;return c=parseInt(a.val.order),d=parseInt(b.val.order),c!==d?isNaN(c)?1:isNaN(d)?-1:c-d:a.val.title!==b.val.title?a.val.title>b.val.title?1:-1:0}),f=[],c=0,e=g.length;e>c;c++)b=g[c],f.push(b.key);return f},c.prototype.isValidTopic=function(a){var b;return b=this.getValidTopics(),null!=b[a]},c.prototype.getValidTopics=function(a){return null==a&&(a=this.topics),a=this.filterTopicsByRules(a),this.options.filter_topics_by_language===!0&&(a=this.filterTopicsByLanguage(a)),a},c.prototype.filterTopicsByRules=function(a){var b,c,d,e;null==a&&(a=this.topics),b={};for(e in a)d=a[e],c=!0,d.visibility&&(c=this.evaluateRule(d.visibility)),c&&(b[e]=d);return b},c.prototype.filterTopicsByLanguage=function(a,b){var c,d,e;null==a&&(a=this.topics),null==b&&(b=this.options.language),c={};for(d in a)e=a[d],(e.language===b||e.language_agnostic)&&(c[d]=e);return c},c.prototype.filterTopicsByContent=function(a,b){var c,d,e;null==a&&(a=this.topics),null==b&&(b=""),c={},b=b.toLowerCase();for(d in a)e=a[d],-1!==e.title.toLowerCase().indexOf(b)&&(c[d]=e);return c},c.prototype.activateByUrlParams=function(a){var b,c;return null==a&&(a=document.location),b=E(a),b.imTopic&&null==b.imDeactivate?(this.handleTopicStart("url"),null!=b.imStep?(c=parseInt(b.imStep),this._activateStep(b.imTopic,c)):this._activateTopic(b.imTopic),this.debug.info("activate.by_url",{topic_id:b.imTopic,step_id:c})):void 0},c.prototype.deactivateByUrlParams=function(a){var b,c,d,e,f;return null==a&&(a=document.location),d=E(a),b=this.currentStepStorage.get(),null!=d.imDeactivate&&(e=!1,c=null,null==d.imTopic&&(e=!0,this.debug.info("deactivate.by_url.any")),d.imTopic===(null!=b?b.topic_id:void 0)&&null==d.imStep&&(e=!0,this.debug.info("deactivate.by_url.topic",{topic_id:d.imTopic})),f=parseInt(d.imStep),d.imTopic===(null!=b?b.topic_id:void 0)&&f===(null!=b?b.step_id:void 0)&&(e=!0,this.debug.info("deactivate.by_url.step",{topic_id:d.imTopic,step_id:f})),e)?this.deactivate():void 0},c.prototype.setLanguage=function(a){return null==a&&(a="en"),this.options.language=a,this.setState("language",a),this.tick(),null!=this.current_topic.id&&null!=this.current_step?this._activateStep(this.current_topic.id,this.current_step):void 0},c.prototype.sanitizeCallback=function(a){var b,c,d,e;return b=function(){var b,f,g;switch(typeof a){case"string":for(e=a.split("."),"window"===e[0]&&e.shift(window),d=window,g=a.split("."),b=0,f=g.length;f>b;b++)c=g[b],d=null!=d?d[c]:void 0;return"function"!=typeof d&&(d=P),d;case"function":return a;default:return P}}()},c.prototype.executeCallback=function(){var a,b;return a=arguments[0],b=2<=arguments.length?ca.call(arguments,1):[],this.callbacks[a].apply(null,b)},c.prototype.executeStepCallback=function(a,b,c){var d,e,f;return f=null!=(e=this.topics[b])?e.steps[c]:void 0,null!=f?(d=f.custom_data||{},"function"==typeof f[a]?f[a](this,b,c,d):void 0):void 0},c.prototype.executeTopicCallback=function(a,b,c){var d,e;return e=this.topics[b],null!=e?(d=e.custom_data||{},"function"==typeof e[a]?e[a](this,b,c,d):void 0):void 0},c.prototype.setZIndex=function(a,b,c,d){var e;return null==c&&(c=this.current_topic.id),null==d&&(d=this.current_step),null!=a&&ba.call(this.layer_stack,b)>=0?(e=this.getZIndex(b,c,d),a.style.zIndex=e):void 0},c.prototype.getZIndex=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;for(null==b&&(b=this.current_topic.id),null==c&&(c=this.current_step),d=(null!=(j=this.topics[b])&&null!=(k=j.steps[c])?k.z_index:void 0)||(null!=(l=this.topics[b])?l.z_index:void 0)||this.options.z_index||0,h=0,m=this.layer_stack,e=f=0,i=m.length;i>f;e=++f)g=m[e],a===g&&(h=e);return d+10*h},c.prototype.translate=function(a){return X(this.l10n[a],this.options.language)},c.prototype.initState=function(){return this.state={step_displayed:!1,topic_id:null,step_id:null,panel:!1,panel_trigger:!0,style:this.default_options.style,custom_trigger:this.default_options.custom_trigger,position:this.default_options.position,topics:0,standalone_launchers:0,hide_branding:this.default_options.hide_branding,step_backdrop:!1,panel_backdrop:!1,custom_style:"",skin:this.default_options.skin},this.rememberState()},c.prototype.rememberState=function(){var a,b,c,d;this.last_remembered_state={},b=this.state,c=[];for(a in b)d=b[a],c.push(this.last_remembered_state[a]=d);return c},c.prototype.isStateChanged=function(){var a,b,c;b=this.state;for(a in b)if(c=b[a],this.last_remembered_state[a]!==c)return!0;return!1},c.prototype.isStatePropertyChanged=function(a){return this.state[a]!==this.last_remembered_state[a]},c.prototype.setState=function(a,b){return this.state[a]=b},c.prototype.getState=function(a){return this.state[a]},c.prototype.tick=function(a){return null==a&&(a=!1),a||this.isStateChanged()?this.draw():void 0},c.prototype.draw=function(){var a,b,c;return this.ui_elements?(this.isStatePropertyChanged("l10n")&&this.resetUi(),this.isStatePropertyChanged("skin")&&(this.setSkinClass(),this.resetUi()),this.isStatePropertyChanged("position")&&this.setUiClassNames(),this.isStatePropertyChanged("hide_branding")&&this.ui_elements.panel_footer.redraw(),this.isStatePropertyChanged("topics")&&this.displayTopics(),this.ui_elements.panel_trigger.toggleByState(this.state.panel_trigger,this.ui),this.ui_elements.panel.toggleByState(this.state.panel,this.ui),this.isStatePropertyChanged("custom_trigger")&&this.setCustomTrigger(),this.updateLaunchers(),(this.isStatePropertyChanged("step_displayed")||this.isStatePropertyChanged("topic_id")||this.isStatePropertyChanged("step_id"))&&(this.state.step_displayed?this.displayStep():this.undisplayStep()),a=""!==this.options.style&&!this.custom_element_style,(this.isStatePropertyChanged("custom_style")||a)&&(null!=(b=this.custom_style_element)&&null!=(c=b.parentNode)&&c.removeChild(this.custom_style_element),this.custom_style_element=this.constructStyle(this.options.style)),this.rememberState()):void 0},c.prototype.alignPanel=function(a){var b,c;return null==a&&(a=this.ui_elements.panel.getNode()),null!=a?(b=DomBox.getBox(a),c=(DomBox.Viewport.getHeight()-b.height)/2,a.style.top=c+"px"):void 0},c.prototype.positionPanelSplashMode=function(a){var b,c,d;return b=DomBox.getBox(a),d=(DomBox.Viewport.getHeight()-b.height)/2,c=(DomBox.Viewport.getWidth()-b.width)/2,a.style.top=d+"px",a.style.left=c+"px",a.style.bottom="auto",a.style.right="auto"},c.prototype.addBackdropSplashMode=function(a){var c;return null!=(c=this.backdrop)&&c.hide(),this.panel_backdrop=new b({hide_on_click:!1,z_index:this.getZIndex("splash"),padding:0,onHide:function(a){return function(){var b;return null!=(b=a.backdrop)?b.show():void 0}}(this)}),this.panel_backdrop.show(a)},c.prototype.onAddPanel=function(a){var b;return this.setZIndex(a,"panel"),this.ui_elements.panel_header.add(a),this.options.search_enabled===!0&&this.ui_elements.panel_search.add(a),this.ui_elements.panel_list.add(a),this.ui_elements.panel_footer.add(a),this.ui_elements.panel_close_button.add(a),this.displayTopics(),"function"==typeof(b=this.skin[this.options.skin]).onAddPanel&&b.onAddPanel(a,this),this.options.splash_mode===!0&&(this.positionPanelSplashMode(a),this.options.splash_backdrop===!0&&this.addBackdropSplashMode(a)),d.add(this.ui,this.classname_namespace+"-topicsDisplayed")},c.prototype.onRemovePanel=function(){var a;return null!=this.panel_backdrop&&(this.panel_backdrop.destroy(),this.panel_backdrop=null),null!=this.ui&&d.remove(this.ui,this.classname_namespace+"-topicsDisplayed"),"function"==typeof(a=this.skin[this.options.skin]).onRemovePanel?a.onRemovePanel(this):void 0},c.prototype.setRules=function(a){var b,c,d,e;null==a&&(a={}),this.rules={},c=function(a){return function(b){var d,e,f,g,h;for(g=[],h=b.rules,e=0,f=h.length;f>e;e++)d=h[e],"string"==typeof d?null==a.rules[d]?a.debug.info("rule.non_existing",d):g.push(a.rules[d]):"ruleset"===d.type&&g.push(c(d));return b.rules=g,b}}(this);for(b in a)e=a[b],d=function(){switch(e.type){case"rule":return this.rules[b]=new this.Rule(e);case"ruleset":return this.rules[b]=new this.Ruleset(c(e));default:return this.debug.info("rule.invalid",e),null}}.call(this);return this.rules},c.prototype.handleStorageChange=function(a){var b,c,d,e,f;return"InmPlayerCurrent"===(null!=a?a.key:void 0)&&a.newValue!==a.oldValue&&(d=a.newValue||"{}",c=Q(d),f=this.current_topic.id!==c.topic_id,e=this.current_step!==c.step_id,f||e)?(b=this.currentStepStorage.get(),null!=b?this._activateStep(b.topic_id,b.step_id):this.deactivate()):void 0},c.prototype._setMetadata=function(a){var b,c,d;null==a&&(a={}),c=[];for(b in a)d=a[b],this.metadata[b]=d,c.push(this.tracking.metadata[b]=d);return c},c.prototype.setMetadata=function(a){return null==a&&(a={}),this._setMetadata(a),this.attemptAutolaunch()},c.prototype.attemptAutolaunch=function(){var a,b,c,d,e;if(this.autolaunch_enabled===!0)for(e=this.autolaunch||[],c=0,d=e.length;d>c;c++)if(b=e[c],this.evaluateRule(b.rule))return a={action_type:"autolaunch",action_id:b.id},this.handleTopicStart("autolauncher",a),null!=b.step?this._activateStep(b.topic,b.step):this._activateTopic(b.topic),!0;return!1},c.prototype.evaluateRule=function(a){var b,c;return b=N(this.tracking.metadata,{"@":this.options}),null!=(c=this.rules[a])&&"function"==typeof c.eval?c.eval(b):void 0},c.prototype.push=function(a){var b,c;return null==a&&(a=[]),c=a[0],b=2<=a.length?ca.call(a,1):[],null!=this[c]?this[c].apply(this,b):void 0},c.prototype.handleQueue=function(a){var b,c,d,e;for(null==a&&(a=[]),e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.push(b));return e},c.prototype.getCurrentTopic=function(){return this.current_topic.id},c.prototype.getCurrentStep=function(){return this.current_step},c.prototype.setActions=function(a){return null==a&&(a={}),null!=a.autolaunch?this.setAutolaunch(a.autolaunch):void 0},c.prototype.setAutolaunch=function(a){var b,c,d,e;for(null==a&&(a=[]),e=[],c=0,d=a.length;d>c;c++)b=a[c],b=this.sanitizeAutolaunch(b),null!=b&&e.push(b);return this.autolaunch=e},c.prototype.sanitizeAutolaunch=function(a){return null==a&&(a={}),null!=a&&null!=a.rule&&null!=a.topic?a:null},c.prototype.handleTopicStart=function(a,b){var c;return null==b&&(b={}),c={origin:a,session_id:r.generate()},c=N(b,c),this.persistent_topic_data.set(c)},c.prototype.sanitizeUrl=function(a){return R(a,this.options.base_path,this.options.variables)},c.prototype.getNsClasses=function(a,b){var c;return null==a&&(a=[]),null==b&&(b=this.classname_namespace),"string"==typeof a&&(a=[a]),function(){var d,e,f;for(f=[],d=0,e=a.length;e>d;d++)c=a[d],f.push(b+"-"+c);return f}().join(" ")},c.prototype.resetUi=function(){var a,b,c;b=this.ui_elements;for(a in b)c=b[a],c.remove();return this.createUiElements()},c.prototype.handleWindowResize=function(a){var b;return"function"==typeof(b=this.skin[this.options.skin]).onResize?b.onResize(a,this):void 0},c}(),expose(h,"InlineManualPlayer"),C={default_options:{max_continuation_attempts:3,variables:{},base_path:document.location.origin,position:"bottom_right",z_index:1e3,style:"",tracking:{},api_key:null,context_topics_only:!1,language:"en",hide_branding:!1,hide_trigger:!1,custom_trigger:null,splash_mode:!1,splash_backdrop:!0,backdrop_color:null,backdrop_opacity:null,backdrop_padding:null,launcher:null,launchers:[],launcher_options:{},popover_disable_smart_position:!1,filter_topics_by_language:!1,rules:{},metadata:{},topic_options:{},step_options:{},queue:[],actions:{autolaunch:[]},search_enabled:!0,profile_url:"https://analytics.inlinemanual.com/__profile",uuid_url:"https://analytics.inlinemanual.com/__uuid",skin:"sidebar"},default_l10n:{title:"Inline Manual",trigger_title:null,panel_title:null,back:"&larr; Back to topics",branding:"Powered by",branding_link:"http://inlinemanual.com/",previous:"&larr; Previous",next:"Next &rarr;",end:"End",footer:"",empty_topics_list:"No Help topics available for this page.",lang_direction:"ltr"},default_callbacks:{onInit:P,onDestroy:P,onTopicStart:P,onTopicPrevious:P,onTopicNext:P,onTopicEnd:P,onStepActivate:P,onStepShow:P,onDebug:P,onProfileLoad:P,onRedirect:function(a,b,c,d){return d(b,c)}},launcher_options:{offset_vertical:10,offset_horizontal:-10,class_name:"inmplayer-launcher",content:"?",context_paths:null},layer_stack:["launcher","backdrop","popover","splash","panel"],classname_namespace:"inmplayer",default_template:'<div class="%classname%">%content%</div>',valid_positions:["right","right_bottom","bottom_right","bottom","bottom_left","left_bottom","left","left_top","top_left","top","top_right","right_top"]};for(I in C)$=C[I],h.prototype[I]=$;Z={handleUserData:function(a,b){var c;if(null==b&&(b=P),c=Q(null!=a?a.responseText:void 0),null!=c){this.tracking.setUuid(c.uuid);for(I in c)$=c[I],"uuid"!==I&&(this.metadata[I]=$,this.tracking.metadata[I]=$)}return this.autolaunch_enabled=!0,b()},handleUserDataError:function(a,b){var c,d;return null==b&&(b=P),d=Q(null!=a?a.responseText:void 0),null!=(c=this.debug)&&c.error("user_info.fail",null!=d?d.message:void 0),this.autolaunch_enabled=!1,b()},handleEmptyProfile:function(a,b){return null==b&&(b=P),this.autolaunch_enabled=!0,b()},requestUserData:function(a,b){var c,d,e;return null==b&&(b=P),this.tracking.enabled!==!0&&(null!=(e=this.debug)&&e.warn("user_info.disabled",{url:a}),b()),d={key:this.tracking.api_key,uid:this.metadata.uid},c={params:d,onCode:{404:function(a){return function(c){return a.handleEmptyProfile(c,function(){return b(c)})}}(this)},onError:function(a){return function(c){return a.handleUserDataError(c,function(){return b(c)})}}(this),onSuccess:function(a){return function(c){var d;return d=Q(null!=c?c.responseText:void 0),a.handleUserData(c,function(){return b(d)}),a.callbacks.onProfileLoad(d)}}(this)},u(a,c)},evaluateUserData:function(a){var b,c,d,e,f;return null==a&&(a=P),c=function(a){for(I in a)return $=a[I],!1;return!0},f=this.tracking.getUuid(),e=this.metadata.uid,b=!c(this.rules),d=(null!=f||null!=e)&&f!==e,null!=f||null!=e||b?null!=e&&b?this.requestUserData(this.profile_url,a):null!=e&&d?this.requestUserData(this.uuid_url,a):(this.autolaunch_enabled=!0,a()):(this.tracking.generateUuid(),a())},getProfile:function(a){return null==a&&(a=P),this.requestUserData(this.profile_url,a)}};for(I in Z)$=Z[I],h.prototype[I]=$;A={getDebugCodes:function(){return{init:"Constructing new `InlineManualPlayer`.",set_options:"Setting options.",redirect:function(a){return"Redirecting to "+a.url+"."},continuation_attempt:function(a){return function(b){return"Attempt #"+b.attempt+" to continue "+a.debugCurrent(b.topic_id,b.step_id)+"."}}(this),invalid:{selector:function(a){return"Invalid CSS selector `"+a.selector+"` is used. Fix it or use `null` instead."},condition:function(a){return"Condition for step '"+a+"' does not contain any value. It will be ignored."}},launcher:{context_path_empty:"Context paths in launcher config contain an empty array. Use `null` instead."},topic_redirect_without_url:function(a){return"Topic "+a+" is of type 'redirect', but no 'url' is defined.";
},activate:{missing_data:function(a){return function(b){return"Tried to activate "+a.debugCurrent(b.topic_id,b.step_id)+", but the topic or step is not defined."}}(this),by_url:function(a){return function(b){return"Activating "+a.debugCurrent(b.topic_id,b.step_id)+" by URL."}}(this)},step:{display:function(a){return function(b){return"Displaying "+a.debugCurrent(b.topic_id,b.step_id)+"."}}(this),activated:function(a){return function(b){return"Activating "+a.debugCurrent(b.topic_id,b.step_id)+"."}}(this),delay:function(a){return"Delayed step '"+a.title+"' is activated. It will be displayed after "+a.delay+"s."},activate:{redirect:function(a){return function(b){return"Could not display "+a.debugCurrent(b.topic_id,b.step_id)+" because it is redirected to '"+b.url+"'."}}(this),unmet_condition:function(a){return function(b){return"Could not display "+a.debugCurrent(b.topic_id,b.step_id)+" because it contains an unmet condition."}}(this),delay:function(a){return function(b){return"Could not display "+a.debugCurrent(b.topic_id,b.step_id)+" because it contains a delay."}}(this),url_match:function(a){return function(b){return"Could not display "+a.debugCurrent(b.topic_id,b.step_id)+" because its URL trigger ("+b.url_pattern+") does not match current URL ("+document.location.toString()+")."}}(this)}},deactivate:{topic:function(a){return function(b){return"Deactivating topic "+a.debugCurrent(b.topic_id)+"."}}(this),by_url:{any:"Deactivating any topic at any step by URL.",topic:function(a){return function(b){return"Deactivating topic "+a.debugCurrent(b.topic_id)+" by URL."}}(this),step:function(a){return function(b){return"Deactivating step "+a.debugCurrent(b.topic_id,b.step_id)+" by URL."}}(this)}},rule:{non_existing:function(a){return"Trying to use non-existing reference to rule '"+a+"'."},invalid:function(a){return"Trying to add invalid rule '"+a+"'."}},trigger:{invalid_selector:"Invalid data is used as CSS selector for trigger element. Use either valid string with CSS selector or `null` instead.",empty_selector:"Empty string is used as CSS selector for trigger element. Use `null` instead."},user_info:{fail:"Request for user data unsuccessful.",disabled:function(a){return"Requesting user data from '"+a.url+"', but the tracking is disabled."}}}},setupDebug:function(){return this.debug=new c({prefix:"Inline Manual Player:",url_prefix:"imDebug-",codes:this.getDebugCodes(),onActivate:function(a){return function(){return a.handleDebugActivation()}}(this),onRecord:function(a){return function(){return a.handleDebugRecord.apply(a,arguments)}}(this)})},handleDebugActivation:function(){return this.optionsHistory=[],this.optionsMerged={}},handleDebugRecord:function(a,b,c,d){return"set_options"===b?(this.optionsHistory.push(c),this.optionsMerged=N(this.optionsMerged,c)):void 0},debugTopic:function(a){var b;return b=this.topics[a],null!=b?"topic '"+a+"' (title: '"+b.title+"')":"topic '"+a+"' (data not found)"},debugStep:function(a,b){var c,d;return d=null!=(c=this.topics[a])?c.steps[b]:void 0,null!=d?"step '"+b+"' (title: '"+d.title+"')":"step '"+b+"' (data not found)"},debugCurrent:function(a,b){var c;return c=[],null!=b&&c.push(this.debugStep(a,b)),null!=a&&c.push(this.debugTopic(a)),c.join(" of ")}};for(I in A)$=A[I],h.prototype[I]=$;K=function(a,b){var c,d,e;c=[];for(d in b)e=b[d],c.push(L(a+"["+d+"]",e));return c.join("&")},J=function(a,b){var c,d,e,f;for(e=[],c=0,d=b.length;d>c;c++)f=b[c],e.push(L(a+"[]",f));return e.join("&")},L=function(a,b){return G(b)?K(a,b):F(b)?J(a,b):a+"="+b},M=function(a){var b;null==a&&(a={}),b=[];for(I in a)$=a[I],b.push(L(I,$));return b.join("&")},u=function(a,b,c){var d,e,f,g,h,i;return null==b&&(b={}),null==c&&(c=function(){}),d={method:"GET",params:{},async:!0,onSuccess:function(){},onError:function(){},onCode:{}},f=N(d,b),"GET"!==(h=f.method)&&"POST"!==h&&(f.method="GET"),g=null,"POST"===f.method&&(g=M(f.params)),"GET"===f.method&&(e=M(f.params),""!==e&&(a=[a,e].join("?"))),i=null,"undefined"!=typeof XMLHttpRequest&&null!==XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?(i=new XMLHttpRequest,i.onreadystatechange=function(){var a;return 4===i.readyState?null!=f.onCode[i.status]?f.onCode[i.status](i):200===(a=i.status)||304===a?(c(i.responseText),f.onSuccess(i)):f.onError(i):void 0}):"undefined"!=typeof XDomainRequest&&null!==XDomainRequest&&(i=new XDomainRequest,i.onload=function(){return c(i.responseText),f.onSuccess(i)},i.onerror=function(){return f.onError(i)},i.ontimeout=function(){return f.onError(i)}),i.open(f.method,a,f.async),i.send(g)},window.createInlineManualPlayer=function(a,b){var c,d,e;if(null==a&&(a={}),null==b&&(b="inline_manual_player"),null!=window.inlineManualOptions){d=window.inlineManualOptions;for(I in d)$=d[I],a[I]=$}if(null!=window.inlineManualTracking){null==a.tracking&&(a.tracking={}),null==(c=a.tracking).metadata&&(c.metadata={}),e=window.inlineManualTracking;for(I in e)$=e[I],a.tracking.metadata[I]=$}return null!=window[b]&&(a.queue=window[b]),window[b]=new h(a)},z=function(a,b,c){var d;null==a&&(a=""),null==b&&(b="div"),null==c&&(c={}),c["class"]=a,d=document.createElement(b);for(I in c)$=c[I],d.setAttribute(I,$);return d},t=function(a,b,c,d){var e;return null==a&&(a=document.body),e=z(b,c,d),a.appendChild(e),e},N=function(){var a,b,c,d,e;for(d=1<=arguments.length?ca.call(arguments,0):[],e={},a=0,b=d.length;b>a;a++)if(c=d[a],G(c))for(I in c)$=c[I],e[I]=$;return e},F=function(a){return null!=a?-1!==a.constructor.toString().indexOf("Array"):!1},G=function(a){return null!=a?"object"==typeof a&&!F(a):!1},Q=function(a){try{return JSON.parse(a)}catch(b){return null}},X=function(a,b){return null==a&&(a=""),null==b&&(b="en"),"string"==typeof a?a:(null!=a?a[b]:void 0)||(null!=a?a.en:void 0)||""},Y=function(a){return 1e3*a},y=function(a){return null==a&&(a=""),/:\/\//.test(a)},v=function(a,b){var c;null==a&&(a=""),null==b&&(b={});for(I in b)$=b[I],c=RegExp("\\["+I+"\\]","g"),a=a.replace(c,$);return a},R=function(a,b,c){var d,e;return null==a&&(a=""),null==b&&(b=""),null==c&&(c={}),y(a)||(e="/"===a.charAt(0),d="/"===b.charAt(b.length-1),e||d||(a="/"+a),e&&d&&(a=a.substring(1)),a=""+b+a),a=v(a,c)},U=function(a,b,c){var d,e,f,g;for(null==a&&(a=[]),"string"==typeof a&&(a=[a]),f=[],d=0,e=a.length;e>d;d++)g=a[d],f.push(this.sanitizeUrl(g,b,c));return f},S=function(a){return null==a&&(a=""),(""===a||"*"===a)&&(a="*://*/*"),y(a)||(a="*://*"+a),a},T=function(a){var b,c,d,e;for(null==a&&(a=[]),"string"==typeof a&&(a=[a]),e=[],b=0,c=a.length;c>b;b++)d=a[b],e.push(S(d));return e},W=function(a,b){var c;return null==b&&(b=document.location),"object"==typeof b&&(b=b.toString()),a=T(a),c=new UrlMatch(a),c.test(b)},E=function(a){var b,c,d,e,f,g,h;if(null==a&&(a=document.location),g={},"string"==typeof a&&(d=document.createElement("a"),d.href=a,a=d),""!==a.search)for(f=a.search.replace(/^\?/,"").split("&"),b=0,c=f.length;c>b;b++)e=f[b],h=e.split("="),I=h[0],$=h[1],""!==I&&(g[I]=$||null);return g},_=function(a){var b;if(null==a)return!1;try{document.querySelector(a)}catch(c){return b=c,!1}return!0},h.prototype.version="2.22.1",p=function(){function a(a,b){this.setContent(a),this.setData(b)}return a.prototype.setContent=function(a){return null==a&&(a=""),this.content=a},a.prototype.setData=function(a){return null==a&&(a={}),this.data=a},a.prototype.setDataItem=function(a,b){return this.data[a]=b},a.prototype.getHtml=function(){var a,b;b=this.content,a=this.data;for(I in a)$=a[I],b=b.replace(RegExp("\\%"+I+"\\%","g"),$);return b},a.prototype.getDom=function(){var a,b,c;if(b=document.createElement("div"),b.innerHTML=this.getHtml(),c=null,b.childNodes.length>1)for(c=document.createDocumentFragment();a=b.firstChild;)c.appendChild(a);else c=b.childNodes[0];return c},a}(),h.prototype.Template=p,o=function(){function a(a,b){this.id=null!=a?a:"StorageInterface"+(new Date).getTime(),this.onGet=null!=b?b:function(a){return a}}return a.prototype.get=function(){var a;try{return this.onGet(Q(localStorage.getItem(this.id)))}catch(b){return a=b,this.onGet(null)}},a.prototype.set=function(a){var b,c,d;try{if(b=localStorage.getItem(this.id),d=JSON.stringify(a),b!==d)return localStorage.setItem(this.id,d)}catch(e){c=e}},a.prototype.forget=function(){var a;try{return localStorage.removeItem(this.id)}catch(b){a=b}},a}(),a=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return da(b,a),b.prototype.set=function(){return b.__super__.set.call(this,this.get()+1)},b.prototype.get=function(){return b.__super__.get.call(this)||0},b}(o),q=function(){function a(a,b){null==a&&(a={}),this.parent=b,this.execute=aa(this.execute,this),this.options=this.sanitize(a),this.monitor=new f(this.options.element,{onAppear:function(a){return function(){return a.remove(),a.add()}}(this)}),this.monitor.start()}return a.prototype.default_options={element:null,events:[],scope:"current",activate:"current"},a.prototype.window_events=["load","unload","abort","error","resize","scroll"],a.prototype.sanitize=function(a,b){var c;return null==a&&(a={}),null==b&&(b=this.default_options),c=N(b,a),c.events=this.sanitizeEvents(c.events),c.scope=this.sanitizeScope(c.scope),c.activate=this.sanitizeActivate(c.activate),c.element=this.sanitizeElement(c.element),c},a.prototype.sanitizeEvents=function(a){var b,c;return null==a&&(a=[]),"string"==typeof a&&(a=[a]),b=["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","mouseenter","mouseleave","keydown","keypress","keyup","load","unload","abort","error","resize","scroll","select","change","submit","reset","focus","blur"],a=function(){var d,e,f;for(f=[],d=0,e=a.length;e>d;d++)c=a[d],ba.call(b,c)>=0&&f.push(c);return f}()},a.prototype.sanitizeScope=function(a){var b;return b=["current","any"],ba.call(b,a)<0&&(a=null),a},a.prototype.sanitizeActivate=function(a){var b;return b=["current","next","prev"],ba.call(b,a)<0&&(a=b[0]),a},a.prototype.sanitizeElement=function(a){var b;return _(a)?a:(null!=(b=this.parent)&&b.debug.warn("invalid.selector",{selector:a}),null)},a.prototype.execute=function(){return null!=this.tour&&this.tour.current_topic.id===this.topic_id&&("any"===this.options.scope||"current"===this.options.scope&&this.tour.current_step===this.step_id)?"current"===this.options.activate?this.tour._activateStep(this.topic_id,this.step_id,!0):this.tour._goToStep(this.options.activate):void 0},a.prototype.add=function(a,b){var c,d,e,f,h,i;for(null==a&&(a=this.options.element),null==b&&(b=this.options.events),this.options.element=this.sanitizeElement(a),this.options.events=this.sanitizeEvents(b),this.monitor.setElement(this.options.element),i=[],f=0,h=b.length;h>f;f++)e=b[f],d=ba.call(this.window_events,e)>=0?[window]:document.querySelectorAll(a),i.push(function(){var a,b,f;for(f=[],a=0,b=d.length;b>a;a++)c=d[a],f.push(g.add(c,e,this.execute));return f}.call(this));return i},a.prototype.remove=function(a,b){var c,d,e,f,h,i;for(null==a&&(a=this.options.element),null==b&&(b=this.options.events),i=[],f=0,h=b.length;h>f;f++)e=b[f],d=ba.call(this.window_events,e)>=0?[window]:document.querySelectorAll(a),i.push(function(){var a,b,f;for(f=[],a=0,b=d.length;b>a;a++)c=d[a],f.push(g.remove(c,e,this.execute));return f}.call(this));return i},a}(),h.prototype.Trigger=q,e=function(){function a(){this.reset(),this.id=Math.random()}return a.prototype.check=function(){return this.status===!1?(this.status=!0,!1):!0},a.prototype.reset=function(){return this.status=!1},a}(),h.prototype.DelayCallback=e,k=function(){function a(a){this.options=null!=a?a:{},this.check=this.options.check||function(){return!0},this.interval=this.options.interval||100,this.onStart=this.options.onStart||function(){},this.onTick=this.options.onTick||function(){},this.onStop=this.options.onStop||function(){},this.onFinish=this.options.onFinish||function(){},this.reset()}return a.ticker=null,a.prototype.tick=function(){return this.status=!!this.check(),this.status&&this.finish(),this.onTick(this)},a.prototype.start=function(){return this.ticker=setInterval(function(a){return function(){return a.tick()}}(this),this.interval),this.tick(),this.onStart(this)},a.prototype.stop=function(){return clearInterval(this.ticker),this.ticker=null,this.onStop(this)},a.prototype.finish=function(){return this.stop(),this.onFinish(this)},a.prototype.isRunning=function(){return null!=this.ticker},a.prototype.reset=function(){return this.status=!1},a}(),h.prototype.Prerequisite=k,n=function(){function a(a){null==a&&(a={}),this.setOptions(N(this.default_options,a)),this.uuid=this.getUuid()}return a.prototype.default_options={storage_key:"inline-manual-player-uuid",tracking_url:"//analytics.inlinemanual.com/__ptm",tracking_debug_url:"//localhost:3000/tracking",enabled:!1,debug:!1,metadata:{},api_key:null,version:null},a.prototype.technical_data={url:document.location.toString()},a.prototype.setOptions=function(a){var b;null==a&&(a={}),b=[];for(I in a)$=a[I],b.push(this[I]=a[I]);return b},a.prototype.forgetUuid=function(){return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.removeItem(this.storage_key):void 0},a.prototype.setUuid=function(a){return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.setItem(this.storage_key,a):void 0},a.prototype.getUuid=function(){return"undefined"!=typeof localStorage&&null!==localStorage?localStorage.getItem(this.storage_key):void 0},a.prototype.generateUuid=function(){return this.uuid=r.generate(),this.setUuid(this.uuid),this.uuid},a.prototype.track=function(a){var b,c;null==a&&(a={}),b={uuid:this.getUuid()||this.generateUuid(),time:(new Date).getTime()},null!=this.metadata.uid&&(b.uid=this.metadata.uid),c=this.technical_data;for(I in c)$=c[I],b[I]=$;for(I in a)$=a[I],b[I]=$;return"player_init"===a.event&&(b.meta=this.metadata,b.version=this.version),null!=this.api_key&&(b.key=this.api_key),this.enabled?this.send(b):void 0},a.prototype.send=function(a){var b;return null==a&&(a={}),b=this.debug?this.tracking_debug_url:this.tracking_url,y(b)||(b=""+document.location.protocol+b),u(b,{method:"POST",params:a})},a}(),h.prototype.Statistics=n,i=function(){function a(a){null==a&&(a={}),this.launcher_elements=[],this.options={},this.is_active=!1,this.template=new p,this.monitor=new f,this.monitor.setOptions({onChange:function(a){return function(){return a.draw()}}(this)}),this.setOptions(N(this.default_options,a))}return a.prototype.default_options={element:null,position:"top_right",offset_vertical:0,offset_horizontal:0,class_name:"",content:"",title:"",template:'<div class="%class_name%" title="%title%">%content%</div>',point_at:null,toggle_events:["click"],activate_events:[],deactivate_events:[],context_paths:null,on_add:function(){},on_remove:function(){},on_activate:function(){},on_deactivate:function(){}},a.prototype.setOptions=function(a){var b;null==a&&(a={}),b=this.default_options;for(I in b)$=b[I],this.options[I]=a[I]||$;return this.setTemplate(),this.monitor.setElement(this.options.element)},a.prototype.setTemplate=function(a){return null==a&&(a=this.options.template),this.template.setContent(a),this.template.setData({class_name:this.options.class_name,content:this.options.content,title:this.options.title})},a.prototype.setElementPosition=function(a,b,c){var d,e,f,g;return a.style.position="absolute",f=DomBox.getBox(b),d=DomBox.getBox(a),e=function(){switch(c){case"top_right":case"right":case"bottom_right":return f.right+this.options.offset_horizontal;case"top":case"bottom":return f.left+f.width/2-d.width/2;case"top_left":case"left":case"bottom_left":return f.left-d.width-this.options.offset_horizontal}}.call(this),g=function(){switch(c){case"top_right":case"top":case"top_left":return f.top-d.height+this.options.offset_vertical;case"left":case"right":return f.top+f.height/2-d.height/2;case"bottom_right":case"bottom":case"bottom_left":return f.bottom-this.options.offset_vertical}}.call(this),a.style.left=e+"px",a.style.top=g+"px"},a.prototype.draw=function(){var a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t;for(this.removeElements(),n=this.monitor.getElements(),r=[],d=0,i=n.length;i>d;d++)if(t=n[d],s=DomBox.getBox(t),b=H(t),c=0===s.width&&0===s.height,b&&!c){for(h=this.template.getDom(),o=this.options.toggle_events,e=0,j=o.length;j>e;e++)a=o[e],g.add(h,a,function(a){return function(b){return a.toggle(b)}}(this));for(p=this.options.activate_events,f=0,k=p.length;k>f;f++)a=p[f],g.add(h,a,function(a){return function(b){return a.activate(b)}}(this));for(q=this.options.deactivate_events,m=0,l=q.length;l>m;m++)a=q[m],g.add(h,a,function(a){return function(b){return a.deactivate(b)}}(this));document.body.appendChild(h),this.setElementPosition(h,t,this.options.position),this.launcher_elements.push(h),r.push(this.options.on_add(this,h))}else r.push(void 0);return r},a.prototype.add=function(){return this.removeElements(),null==this.options.context_paths||W(this.options.context_paths)?(this.draw(),this.monitor.start()):void 0},a.prototype.removeElements=function(){var a,b,c;for(c=[];a=this.launcher_elements.pop();)this.options.on_remove(this,a),c.push(null!=(b=a.parentNode)?b.removeChild(a):void 0);return c},a.prototype.remove=function(){return this.monitor.stop(),this.removeElements()},a.prototype.activate=function(a){var b;if(b=g.target(a),""!==this.options.class_name)for(;null!=b&&!d.has(this.options.class_name);)b=b.parentNode;return this.is_active=!0,this.options.on_activate(this,b)},a.prototype.deactivate=function(a){return this.is_active=!1,this.options.on_deactivate(this)},a.prototype.toggle=function(a){return this.is_active?this.deactivate(a):this.activate(a)},a.prototype.activateOnSelf=function(){var a;return a=document.querySelector(this.options.element),this.options.on_activate(this,a)},a.prototype.destroy=function(){return this.remove()},a}(),h.prototype.Launcher=i,D={general:{is_empty:function(a,b){return!a||0===a.length},is_equal:function(a,b){return a===b}},text:{contains:function(a,b){return-1!==a.search(b)},starts_with:function(a,b){return RegExp("^"+b).test(a)},ends_with:function(a,b){return RegExp(b+"$").test(a)},regexp:function(a,b){var c;return c=new RegExp(b),c.test(a)}},number:{is_empty:function(a,b){return!a&&"number"!=typeof a},gt:function(a,b){return a>b},gte:function(a,b){return a>=b},lt:function(a,b){return b>a},lte:function(a,b){return b>=a}},array:{is_equal:function(a,b){var c,d,e,f;if(a.length!==b.length)return!1;for(c=d=0,e=a.length;e>d;c=++d)if(f=a[c],a[c]!==b[c])return!1;return!0},contains:function(a,b){return F(a)&&ba.call(a,b)>=0},contains_all:function(a,b){var c,d,e;for(c=0,d=b.length;d>c;c++)if(e=b[c],ba.call(a,e)<0)return!1;return!0},contains_any:function(a,b){var c,d,e;for(c=0,d=b.length;d>c;c++)if(e=b[c],ba.call(a,e)>=0)return!0;return!1}},date:{is_equal:function(a,b){return a=Y(a),b=l.prototype.sanitizeTime(b),a===b},is_within:function(a,b){var c,d;return a=Y(a),d=(new Date).getTime(),c=l.prototype.parseRelativeTime(b),a>=d-c&&d+c>=a},is_before:function(a,b){return a=Y(a),b=l.prototype.sanitizeTime(b,-1),b>=a},is_after:function(a,b){return a=Y(a),b=l.prototype.sanitizeTime(b,1),a>=b}},url:{match:function(a,b){var c;return c=new UrlMatch(b),c.test(a)},match_current:function(a,b){var c;return c=new UrlMatch(b),c.test(document.location.toString())}}},O=function(a){return function(){return!a.apply(null,arguments)}},l=function(){function a(a,b){this.onError=null!=b?b:P,this.options={},this.sanitizeOptions(a)}return a.prototype.sanitizeOptions=function(a){return null==a&&(a={}),this.sanitizeKind(a.kind),this.sanitizeCondition(a.condition),this.sanitizeValue(a.value),this.sanitizeField(a.field)},a.prototype.sanitizeKind=function(a){return null!=this.eval_methods[a]?this.options.kind=a:this.onError("Rule can not be of kind '"+a+"'.")},a.prototype.sanitizeField=function(a){return null!=a?this.options.field=a:this.onError("Rule can not be created without a field.")},a.prototype.sanitizeCondition=function(a){var b;return null!=(null!=(b=this.eval_methods[this.options.kind])?b[a]:void 0)?this.options.condition=a:this.onError("Rule of kind '"+this.options.kind+"' can not use condition '"+a+"'.")},a.prototype.sanitizeValue=function(a){return null!=a||"empty"===this.options.condition?this.options.value=a:this.onError("Rule must contain a value when conditions is '"+this.options.condition+"'.")},a.prototype.relativeTimeUnits={second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},a.prototype.splitRelativeTime=function(a){var b,c,d,e,f,g,h;return e=null,h=function(){var a,b;a=this.relativeTimeUnits,b=[];for(I in a)$=a[I],b.push(I);return b}.call(this).join("|"),d=RegExp("^\\s*(\\+|\\-)*\\s*(\\d+)\\s*("+h+")s*\\s*$"),b=d.exec(a),null!=b?(c=b[0],f=b[1],a=b[2],g=b[3],a=parseInt(a),"-"===f&&(a=-1*a),e={value:a,unit:g}):this.onError("Rule is trying to use invalid date value '"+a+"'"),e},a.prototype.parseRelativeTime=function(a){var b,c,d;return d=0,b=this.splitRelativeTime(a),null!=b&&(c=this.relativeTimeUnits[b.unit],d=b.value*c),d},a.prototype.sanitizeTime=function(a,b){var c,d;switch(null==b&&(b=1),d=(new Date).getTime(),typeof a){case"number":return Y(a);case"string":return c=this.parseRelativeTime(a),d+c*b;default:return d}},a.prototype.getFieldValue=function(a,b){var c,d,e,f,g;for(null==a&&(a={}),null==b&&(b=""),f=a,e=b.split("."),c=0,d=e.length;d>c;c++)if(g=e[c],f=f[g],null==f)return null;return f},a.prototype.eval=function(a){var b,c;return null==a&&(a={}),D=null!=(c=this.eval_methods[this.options.kind])?c[this.options.condition]:void 0,null!=D?(b=this.getFieldValue(a,this.options.field),D(b,this.options.value)):(this.onError("Rule is trying to use invalid combination of kind ("+this.options.kind+") and condition ("+this.options.condition+")."),!1)},a.prototype.eval_methods={text:{empty:D.general.is_empty,equal:D.general.is_equal,contain:D.text.contains,start_with:D.text.starts_with,end_with:D.text.ends_with,match:D.text.regexp,not_empty:O(D.general.is_empty),not_equal:O(D.general.is_equal),not_contain:O(D.text.contains),not_start_with:O(D.text.starts_with),not_end_with:O(D.text.ends_with),not_match:O(D.text.regexp)},number:{empty:D.number.is_empty,equal:D.general.is_equal,greater_than:D.number.gt,greater_than_or_equal:D.number.gte,less_than:D.number.lt,less_than_or_equal:D.number.lte,not_empty:O(D.number.is_empty),not_equal:O(D.general.is_equal),not_greater_than:O(D.number.gt),not_greater_than_or_equal:O(D.number.gte),not_less_than:O(D.number.lt),not_less_than_or_equal:O(D.number.lte)},array:{empty:D.general.is_empty,equal:D.array.is_equal,contain:D.array.contains,contain_all:D.array.contains_all,contain_any:D.array.contains_any,not_empty:O(D.general.is_empty),not_equal:O(D.array.is_equal),not_contain:O(D.array.contains),not_contain_all:O(D.array.contains_all),not_contain_any:O(D.array.contains_any)},date:{empty:D.general.is_empty,equal:D.date.is_equal,within:D.date.is_within,less_than:D.date.is_before,greater_than:D.date.is_after,not_empty:O(D.general.is_empty),not_equal:O(D.date.is_equal),not_within:O(D.date.is_within),not_less_than:O(D.date.is_before),not_greater_than:O(D.date.is_after)},url:{match:D.url.match,match_current:D.url.match_current,not_match:O(D.url.match),not_match_current:O(D.url.match_current)}},a}(),h.prototype.Rule=l,m=function(){function a(a,b){this.onError=null!=b?b:P,this.options={},this.sanitizeOptions(a)}return a.prototype.sanitizeOptions=function(a){return null==a&&(a={}),this.sanitizeOperation(a.operation),this.sanitizeRules(a.rules)},a.prototype.sanitizeOperation=function(a){return this.eval_methods[a]?this.options.operation=a:this.onError("Ruleset can not use operation '"+a+"'.")},a.prototype.sanitizeRules=function(a){var b,c,d;if(this.options.rules=[],F(a))for(b=0,c=a.length;c>b;b++)d=a[b],this.sanitizeRule(d);else this.onError("Ruleset can not use '"+a+"' as rules list.");return this.options.rules},a.prototype.sanitizeRule=function(b){return b instanceof l||b instanceof a||(b=function(){switch(null!=b?b.type:void 0){case"rule":return new l(b);case"ruleset":return new a(b);default:return null}}()),null!=b&&this.options.rules.push(b),b},a.prototype.eval=function(a){return null==a&&(a={}),0===this.options.rules.length?!0:this.eval_methods[this.options.operation](this.options.rules,a)},a.prototype.eval_methods={or:function(a,b){var c,d,e;for(c=0,d=a.length;d>c;c++)if(e=a[c],e.eval(b))return!0;return!1},and:function(a,b){var c,d,e;for(c=0,d=a.length;d>c;c++)if(e=a[c],!e.eval(b))return!1;return!0}},a}(),h.prototype.Ruleset=m,V={initSearch:function(a){var b,c,d;return d=a.node.querySelector("input"),c=a.node.querySelector("button"),b=a.node.querySelector("a"),this.clearSearch(d),g.add(d,["keyup","change"],function(a){return function(){return a.doSearch(d.value)}}(this)),g.add(c,"click",function(a){return function(){return a.doSearch(d.value)}}(this)),g.add(b,"click",function(a){return function(){return a.clearSearch(d)}}(this))},doSearch:function(a){var b,c;return null==a&&(a=""),""!==a?(c=this.getValidTopics(),b=this.filterTopicsByContent(c,a),this.displayTopics(b,{search:a})):this.displayTopics()},clearSearch:function(a){return null!=a&&(a.value=""),this.doSearch()},highlightSearchResult:function(a,b,c,d){var e,f;return null==a&&(a=""),null==b&&(b=""),null==c&&(c='<span class="search-highlight">'),null==d&&(d="</span>"),e=RegExp("("+b+")","gi"),f=c+"$1"+d,a.replace(e,f)}};for(I in V)$=V[I],h.prototype[I]=$;h.prototype.createUiElements=function(){return this.ui_elements={panel_trigger:new this.UiElement({attributes:{"class":this.getNsClasses("trigger")},data:{content:this.translate("trigger_title")||this.translate("title")},events:{click:function(a){return function(){return a.showPanel()}}(this)},callbacks:{onAdd:function(a){return function(b){return a.setZIndex(b.getNode(),"panel")}}(this),onStateCheck:function(a){return function(){return!a.options.hide_trigger}}(this)}}),panel_header:new this.UiElement({attributes:{"class":this.getNsClasses("panel-header")},data:{content:this.translate("panel_title")||this.translate("title")},events:{click:function(a){return function(){return a.hidePanel()}}(this)}}),panel_search:new this.UiElement({attributes:{"class":this.getNsClasses("panel-search")},data:{content:'<input type="text" /> <button>Search</button> <a href="javascript:void(0);">Clear</a>'},callbacks:{onAdd:function(a){return function(b){return a.initSearch(b)}}(this)}}),panel_list:new this.UiElement({attributes:{"class":this.getNsClasses("panel-body")},data:{content:""}}),list_empty:new this.UiElement({attributes:{"class":this.getNsClasses("list-empty")},data:{content:""}}),panel_close_button:new this.UiElement({attributes:{"class":this.getNsClasses("panel-close-button")},data:{content:"×"},events:{click:function(a){return function(){return a.hidePanel()}}(this)}}),panel_custom_footer:new this.UiElement({attributes:{"class":this.getNsClasses("panel-custom-footer")},data:{content:this.translate("footer")},events:{click:function(a){return function(b){var c;for(c=g.target(b);"a"!==c.tagName.toLowerCase();)c=c.parentNode;return a.tracking.track({event:"footer_click",link_url:c.href})}}(this)}}),panel_branding:new this.UiElement({template:'<a href="%branding_link%" target="_blank"> %content% Inline Manual </a>',attributes:{"class":this.getNsClasses("panel-footer-branding")},data:{content:this.translate("branding"),branding_link:this.translate("branding_link")}}),panel_footer:new this.UiElement({attributes:{"class":this.getNsClasses("panel-footer")},data:{content:""},callbacks:{onAdd:function(a){return function(b){return a.ui_elements.panel_custom_footer.add(b.getNode()),a.options.hide_branding?void 0:a.ui_elements.panel_branding.add(b.getNode())}}(this)}}),panel:new this.UiElement({attributes:{"class":this.getNsClasses("panel")},data:{content:""},callbacks:{onAdd:function(a){return function(b){return a.onAddPanel(b.getNode())}}(this),onRemove:function(a){return function(b){return a.onRemovePanel()}}(this)}}),popover_progress:new this.UiElement({template:"<div>%current_step% / %total_steps%</div>",attributes:{"class":this.getNsClasses("popover-progress")},data:{current_step:"0",total_steps:"0"}}),popover_title:new this.UiElement({attributes:{"class":this.getNsClasses("popover-title")}}),popover_content:new this.UiElement({attributes:{"class":this.getNsClasses("popover-inner-content")}}),popover_close_button:new this.UiElement({attributes:{"class":this.getNsClasses("popover-close-button")},data:{content:"×"},events:{click:function(a){return function(){return a.endTopic()}}(this)}}),popover_controls:new this.UiElement({attributes:{"class":this.getNsClasses("popover-buttons")},data:{content:""}}),popover_button_prev:new this.UiElement({attributes:{"class":this.getNsClasses(["popover-button-previous","button"])},events:{click:function(a){return function(){return a._goToStep("previous")}}(this)}}),popover_button_next:new this.UiElement({attributes:{"class":this.getNsClasses(["popover-button-next","button"])},events:{click:function(a){return function(){return a._goToStep("next")}}(this)}}),popover_button_end:new this.UiElement({attributes:{"class":this.getNsClasses(["popover-button-end","button"])},events:{click:function(a){return function(){return a.endTopic()}}(this)}})}},s=function(){function a(a){var b;if(null==a&&(a={}),this.changed=!1,this.data={},this.setData(a.data),this.setTemplate(a.template),this.events={},null!=a.events){b=a.events;for(I in b)$=b[I],this.addEvent(I,$)}this.attributes={},null!=a.attributes&&this.setAttributes(a.attributes),this.callbacks={},this.setCallbacks(this.default_callbacks),this.setCallbacks(a.callbacks),this.createNode()}return a.prototype.default_template="<div>%content%</div>",a.prototype.default_callbacks={onCreate:function(){},onAdd:function(){},onRemove:function(){},onStateCheck:function(){return!0}},a.prototype.setData=function(a){null==a&&(a={});for(I in a)$=a[I],this.data[I]!==$&&(this.changed=!0),this.data[I]=$;return this.data},a.prototype.setTemplate=function(a){return null==a&&(a=this.default_template),a!==this.template&&(this.changed=!0),this.template=a},a.prototype.setAttributes=function(a){return null==a&&(a={}),a!=={}&&(this.changed=!0),this.attributes=N(this.attributes,a)},a.prototype.addEvent=function(a,b){return null==b&&(b=P),this.changed=!0,this.events[a]=b},a.prototype.setCallbacks=function(a){var b;null==a&&(a={}),b=[];for(I in a)$=a[I],b.push(this.callbacks[I]=$);return b},a.prototype.createNode=function(){var a,b,c;if(this.changed=!1,this.remove(),c=new p(this.template,this.data),this.node=c.getDom(),null!=this.node.setAttribute){a=this.attributes;for(I in a)$=a[I],this.node.setAttribute(I,$)}b=this.events;for(I in b)$=b[I],g.add(this.node,I,$);return this.callbacks.onCreate(this),this.node},a.prototype.getNode=function(){return(this.changed||null==this.node)&&this.createNode(),this.node},a.prototype.add=function(a,b){return null==a&&(a=document.body),null==b&&(b=null),a.insertBefore(this.getNode(),b),this.callbacks.onAdd(this)},a.prototype.remove=function(){var a,b;return this.callbacks.onRemove(this),null!=(a=this.node)&&null!=(b=a.parentNode)&&b.removeChild(this.node),this.node=null},a.prototype.toggleByState=function(a,b){return a===!0&&this.callbacks.onStateCheck()?this.add(b):this.remove()},a.prototype.redraw=function(){var a,b,c;return a=this.getNode(),b=null!=a?a.parentNode:void 0,c=a.nextSibling,this.remove(),this.add(b,c)},a}(),h.prototype.UiElement=s,null==(w=h.prototype).skin&&(w.skin=[]),h.prototype.skin.legacy={onAddPanel:function(a,b){var c;return"left"===(c=b.options.position)||"right"===c?b.alignPanel(a):void 0}},null==(x=h.prototype).skin&&(x.skin=[]),h.prototype.skin.sidebar={onAddPanel:function(a,b){return this.is_panel_displayed=!0,this.setListHeight(b)},onRemovePanel:function(a,b){return this.is_panel_displayed=!1},onResize:function(a,b){return this.handleResize(b)},handleResize:function(a){return this.is_panel_displayed===!0?this.setListHeight(a):void 0},setListHeight:function(a){var b,c,d,e,f,g,h,i,j;for(i=a.ui_elements.panel.getNode(),
h=DomBox.getBox(i),c=0,j=["panel_header","panel_search","panel_footer"],d=0,e=j.length;e>d;d++)b=j[d],g=a.ui_elements[b].getNode(),c+=DomBox.getBox(g).height;return f=a.ui_elements.panel_list.getNode(),f.style.height=h.height-c+"px"}},B="html { position: relative; min-height: 100%; } .fczbkk-popover { position: absolute; top: 0; left: 0; } .fczbkk-popover-wrapper { position: absolute; top: 0; left: 0; border: 1px solid #cccccc; background: #fff; padding: 1em; width: 300px; box-sizing: border-box; } .fczbkk-popover-scroll_message { display: none; } .fczbkk-popover-pointer-shape { fill: #ffffff; stroke: #cccccc; stroke-width: 1px; } .fczbkk-popover-pointer-holder { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; } .fczbkk-popover-orphan { position: fixed; } .fczbkk-popover-orphan .fczbkk-popover-static_pointer .fczbkk-popover-pointer-holder { display: none; } .fczbkk-popover-static_pointer { position: absolute; border-width: 10px; border-style: solid; border-color: transparent; width: 0; height: 0; } .fczbkk-popover-supports_svg .fczbkk-popover-static_pointer { display: none; } .fczbkk-popover-right .fczbkk-popover-static_pointer, .fczbkk-popover-rightTop .fczbkk-popover-static_pointer, .fczbkk-popover-rightBottom .fczbkk-popover-static_pointer { right: -10px; border-left-color: #cccccc; border-right-width: 0; } .fczbkk-popover-left .fczbkk-popover-static_pointer, .fczbkk-popover-leftTop .fczbkk-popover-static_pointer, .fczbkk-popover-leftBottom .fczbkk-popover-static_pointer { left: -10px; border-right-color: #cccccc; border-left-width: 0; } .fczbkk-popover-right .fczbkk-popover-static_pointer, .fczbkk-popover-left .fczbkk-popover-static_pointer { top: 50%; margin-top: -5px; } .fczbkk-popover-top .fczbkk-popover-static_pointer, .fczbkk-popover-topRight .fczbkk-popover-static_pointer, .fczbkk-popover-topLeft .fczbkk-popover-static_pointer { top: -10px; border-bottom-color: #cccccc; border-top-width: 0; } .fczbkk-popover-bottom .fczbkk-popover-static_pointer, .fczbkk-popover-bottomRight .fczbkk-popover-static_pointer, .fczbkk-popover-bottomLeft .fczbkk-popover-static_pointer { bottom: -10px; border-top-color: #cccccc; border-bottom-width: 0; } .fczbkk-popover-top .fczbkk-popover-static_pointer, .fczbkk-popover-bottom .fczbkk-popover-static_pointer { left: 50%; margin-left: -5px; } .fczbkk-popover-rightTop .fczbkk-popover-static_pointer, .fczbkk-popover-leftTop .fczbkk-popover-static_pointer { top: 0; } .fczbkk-popover-rightBottom .fczbkk-popover-static_pointer, .fczbkk-popover-leftBottom .fczbkk-popover-static_pointer { bottom: 0; } .fczbkk-popover-topRight .fczbkk-popover-static_pointer, .fczbkk-popover-bottomRight .fczbkk-popover-static_pointer { right: 0; } .fczbkk-popover-topLeft .fczbkk-popover-static_pointer, .fczbkk-popover-bottomLeft .fczbkk-popover-static_pointer { left: 0; } .inmplayer_tpl_step_fullscreen { border: none !important; background-color: transparent !important; box-shadow: none !important; } .inmplayer_tpl_step_left_side, .inmplayer_tpl_step_right_side { position: fixed !important; top: 0 !important; height: 100vh; border-radius: 0 !important; } .inmplayer_tpl_step_left_side { left: 0 !important; right: auto !important; } .inmplayer_tpl_step_right_side { left: auto !important; right: 0 !important; } .inmplayer_tpl_step_top_image .inmplayer-popover-content, .inmplayer_tpl_step_top_image_text .inmplayer-popover-content { padding: 0; } .inmplayer_tpl_step_top_image .inmplayer-template-content, .inmplayer_tpl_step_top_image_text .inmplayer-template-content { padding: 20px; } .inmplayer_tpl_step_top_image .inmplayer-popover-buttons, .inmplayer_tpl_step_top_image_text .inmplayer-popover-buttons { padding: 0 20px 10px 20px; } .inmplayer_tpl_step_top_image_text .inmplayer-template-header { background-color: #f0f0f0; min-height: 40px; padding: 20px; } .inmplayer_tpl_step_top_image_text .inmplayer-template-header img { padding-right: 10px; } .inmplayer_tpl_step_top_image_text .inmplayer-template-header h1 { font-size: 18px; margin: 0; line-height: 40px; } .inmplayer-button { line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; background: #03a9f4; color: #ffffff; font-size: 14px; border: 1px solid #0286c2; border-radius: 5px; text-align: center; } .inmplayer-general { font-size: 14px; } .inmplayer-launcher { box-sizing: content-box; width: 20px; line-height: 20px; background: #c00; border-radius: 100%; border: 2px solid #fff; color: #fff; font-size: 10px; font-weight: bold; text-align: center; cursor: pointer; cursor: hand; } .inmplayer-trigger { line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; background: #03a9f4; color: #ffffff; box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); position: fixed; font-size: 18px; line-height: 36px; border: 1px solid #fff; border-radius: 5px; } .inmplayer-position-bottom .inmplayer-trigger, .inmplayer-position-top .inmplayer-trigger, .inmplayer-position-left .inmplayer-trigger, .inmplayer-position-right .inmplayer-trigger, .inmplayer-position-right_top .inmplayer-trigger, .inmplayer-position-right_bottom .inmplayer-trigger, .inmplayer-position-left_top .inmplayer-trigger, .inmplayer-position-left_bottom .inmplayer-trigger { width: 140px; text-align: center; } .inmplayer-position-bottom .inmplayer-trigger, .inmplayer-position-top .inmplayer-trigger { left: 50%; margin-left: -70px; } .inmplayer-position-bottom .inmplayer-trigger { bottom: 10px; } .inmplayer-position-top .inmplayer-trigger { top: 10px; } .inmplayer-position-left .inmplayer-trigger, .inmplayer-position-right .inmplayer-trigger { top: 50%; } .inmplayer-position-left .inmplayer-trigger, .inmplayer-position-left_bottom .inmplayer-trigger, .inmplayer-position-left_top .inmplayer-trigger { left: -70px; -webkit-transform: rotate(90deg); -moz-transform: rotate(90deg); -o-transform: rotate(90deg); -ms-transform: rotate(90deg); transform: rotate(90deg); } .inmplayer-position-right .inmplayer-trigger, .inmplayer-position-right_bottom .inmplayer-trigger, .inmplayer-position-right_top .inmplayer-trigger { right: -70px; -webkit-transform: rotate(-90deg); -moz-transform: rotate(-90deg); -o-transform: rotate(-90deg); -ms-transform: rotate(-90deg); transform: rotate(-90deg); } .inmplayer-position-bottom_right .inmplayer-trigger { bottom: 10px; right: 10px; } .inmplayer-position-bottom_left .inmplayer-trigger { bottom: 10px; left: 10px; } .inmplayer-position-top_right .inmplayer-trigger { top: 10px; right: 10px; } .inmplayer-position-top_left .inmplayer-trigger { top: 10px; left: 10px; } .inmplayer-position-left_top .inmplayer-trigger { top: 80px; } .inmplayer-position-left_bottom .inmplayer-trigger { bottom: 80px; } .inmplayer-position-right_top .inmplayer-trigger { top: 80px; } .inmplayer-position-right_bottom .inmplayer-trigger { bottom: 80px; } .inmplayer-popover { font-size: 14px; line-height: 21px; } .inmplayer-popover-pointer-shape { fill: #03a9f4; stroke: #03a9f4; stroke-width: 1px; } .inmplayer-popover-wrapper { background: #fff; color: #222; border: 1px solid #e6f1f6; border-radius: 5px; padding: 0; width: auto; box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); } .inmplayer-popover-scroll_message { line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; text-align: center; background: #79d4fd; } .inmplayer-popover-close-button { position: absolute; top: 0; right: 0; line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; } .inmplayer-popover-content { padding: 1em; } .inmplayer-popover-title { font-weight: bold; margin-bottom: 1em; } .inmplayer-popover-progress { line-height: 2em; text-align: center; z-index: 10; } .inmplayer-popover-buttons { margin-top: 1em; overflow: hidden; } .inmplayer-popover-button-previous, .inmplayer-popover-button-next, .inmplayer-popover-button-end { z-index: 20; } .inmplayer-popover-button-previous, .inmplayer-popover-button-next { float: left; margin-right: 10px; } .inmplayer-lang-direction-rtl .inmplayer-popover-button-previous, .inmplayer-lang-direction-rtl .inmplayer-popover-button-next { float: left; margin-right: 0; margin-left: 10px; } .inmplayer-popover-button-end { float: right; margin-left: 10px; } .inmplayer-lang-direction-rtl .inmplayer-popover-button-end { float: left; margin-left: 0; margin-right: 10px; } .inmplayer-firstStep .inmplayer-popover-button-previous, .inmplayer-lastStep .inmplayer-popover-button-next { display: none; } .hide_prev .inmplayer-popover-button-previous, .hide_next .inmplayer-popover-button-next, .hide_progress .inmplayer-popover-progress, .hide_navigation .inmplayer-popover-button-previous, .hide_navigation .inmplayer-popover-button-next, .hide_end .inmplayer-popover-button-end, .hide_close .inmplayer-popover-close-button, .hide_controls .inmplayer-popover-button-previous, .hide_controls .inmplayer-popover-button-next, .hide_controls .inmplayer-popover-button-end, .hide_title .inmplayer-popover-title { display: none; } .inmplayer-list-item { line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; border-bottom: 1px solid #e6f1f6; padding: 2px 10px; } .inmplayer-list-item:last-child { border-bottom: none; } .inmplayer-list-item:hover { color: #03a9f4; } .inmplayer-list-item .search-highlight { background: #ffff80; } .inmplayer-list-empty { color: #ccc; padding: 10px 10px; } .inmplayer-active { background: #def4ff; } .inmplayer-highlight { padding-left: 7.5px; border-left-width: 3.33333333px; border-left-color: #79d4fd; border-left-style: solid; } .inmplayer-panel { box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); position: fixed; background: #fff; min-width: 350px; } .inmplayer-panel-header { line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; font-size: 18px; line-height: 36px; } .inmplayer-panel-close-button { line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; position: absolute; top: 0; right: 0; font-size: 18px; } .inmplayer-panel-body { overflow: auto; } .inmplayer-panel-footer a, .inmplayer-panel-footer div { line-height: 28px; padding: 0 10px; cursor: pointer; cursor: hand; display: block; font-size: 14px; } .inmplayer-panel-footer-branding { color: #CCCCCC; } .inmplayer-panel-search { background: #fafafa; padding: 10px; overflow: hidden; display: flex; } .inmplayer-panel-search input, .inmplayer-panel-search button { font-size: 14px; margin-right: 10px; } .inmplayer-panel-search input { flex-grow: 1; } .inmplayer-panel-search a { color: #CCCCCC; } .inmplayer-skin-legacy.inmplayer-position-bottom_right .inmplayer-panel, .inmplayer-skin-legacy.inmplayer-position-right_bottom .inmplayer-panel { bottom: 10px; right: 10px; } .inmplayer-skin-legacy.inmplayer-position-bottom_left .inmplayer-panel, .inmplayer-skin-legacy.inmplayer-position-left_bottom .inmplayer-panel { bottom: 10px; left: 10px; } .inmplayer-skin-legacy.inmplayer-position-top_right .inmplayer-panel, .inmplayer-skin-legacy.inmplayer-position-right_top .inmplayer-panel, .inmplayer-skin-legacy.inmplayer-position-right .inmplayer-panel { top: 10px; right: 10px; } .inmplayer-skin-legacy.inmplayer-position-top_left .inmplayer-panel, .inmplayer-skin-legacy.inmplayer-position-left_top .inmplayer-panel, .inmplayer-skin-legacy.inmplayer-position-left .inmplayer-panel { top: 10px; left: 10px; } .inmplayer-skin-legacy.inmplayer-position-top .inmplayer-panel, .inmplayer-skin-legacy.inmplayer-position-bottom .inmplayer-panel { left: 50%; margin-left: -175px; } .inmplayer-skin-legacy.inmplayer-position-top .inmplayer-panel { top: 10px; } .inmplayer-skin-legacy.inmplayer-position-bottom .inmplayer-panel { bottom: 10px; } .inmplayer-skin-legacy .inmplayer-panel { border-radius: 5px; border: 1px solid #fff; } .inmplayer-skin-legacy .inmplayer-panel-header { background: #03a9f4; color: #ffffff; border-radius: 5px 5px 0 0; } .inmplayer-skin-legacy .inmplayer-panel-close-button { background: #03a9f4; color: #ffffff; background: none; } .inmplayer-skin-legacy .inmplayer-panel-body { max-height: 13em; border: 1px solid #e6f1f6; } .inmplayer-skin-legacy .inmplayer-panel-footer { overflow: hidden; background: #f7fcff; border: 1px solid #e6f1f6; border-top: none; border-radius: 0 0 5px 5px; } .inmplayer-skin-legacy .inmplayer-panel-footer a, .inmplayer-skin-legacy .inmplayer-panel-footer div { float: left; text-decoration: none; color: #7690a2; } .inmplayer-skin-legacy .inmplayer-panel-footer-branding { float: right !important; } .inmplayer-skin-sidebar.inmplayer-position-bottom_left .inmplayer-panel, .inmplayer-skin-sidebar.inmplayer-position-left_bottom .inmplayer-panel, .inmplayer-skin-sidebar.inmplayer-position-top_left .inmplayer-panel, .inmplayer-skin-sidebar.inmplayer-position-left_top .inmplayer-panel, .inmplayer-skin-sidebar.inmplayer-position-left .inmplayer-panel { right: auto; left: 0; } .inmplayer-skin-sidebar .inmplayer-panel { border-radius: 0; top: 0; right: 0; bottom: 0; } .inmplayer-skin-sidebar .inmplayer-panel-body { border: 1px solid #e6f1f6; border-width: 1px 0; background: #fafafa; } .inmplayer-skin-sidebar .inmplayer-panel-header { text-align: center; border: 1px solid #e6f1f6; border-width: 0 0 1px 0; } .inmplayer-skin-sidebar .inmplayer-panel-footer { text-align: center; } @media (max-width: 400px) { .inmplayer-skin-sidebar .inmplayer-panel { left: 0; right: 0; } } .inmplayer-lang-direction-rtl { text-align: right; }"}();})();(function(){
  createInlineManualPlayer({"base_path":"/","api_key":"16f4a936bbed480026f861953b7d199e","skin":"sidebar","position":"bottom_right","z_index":1000,"search_enabled":true,"context_topics_only":false,"filter_topics_by_language":false,"splash_mode":false,"splash_backdrop":true,"hide_trigger":false,"custom_trigger":null,"backdrop_color":"#000000","backdrop_opacity":"0.5","backdrop_padding":10,"variables":{},"tracking":{},"l10n":{"title":"Inline Manual","trigger_title":null,"panel_title":null,"footer":"","branding":"Powered by","branding_link":"https://inlinemanual.com/","previous":"&larr; Previous","next":"Next &rarr;","end":"End","back":"Back","empty_topics_list":"No Help topics available for this page.","lang_direction":"ltr"},"topics":{"8665":{"id":8665,"parent_id":null,"title":"User Signup","description":"Test Topic","type":"tour","language":"en","privacy":"public","published":true,"archived":false,"published_at":"2016-01-11T18:48:55.748Z","archived_at":null,"created_at":"2016-01-11T18:48:55.748Z","updated_at":"2016-01-20T16:56:41.157Z","tags":[],"context_paths":[],"steps":[{"title":"Click on Account","content":"<p>Click on Account.</p>","path":null,"element":".skip-link.skip-account","position":"bottom","delay":null,"width":300,"z_index":null,"backdrop":false,"backdrop_cover":false,"class_names":["hide_title","hide_end","hide_next","hide_prev","hide_close","inmplayer_tpl_step_default"],"custom_data":{},"on_activate":"","on_deactivate":"","on_show":"","author_changes":[],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":{},"triggers":[{"element":null,"scope":"current","activate":"next","events":["click"]},{"element":null,"scope":"current","activate":"next","events":["next"]}]},{"title":"Click on My Account","content":"<p>My Account</p>","path":null,"element":".skip-content.skip-active > .links > ul > .first > a","position":"top","delay":null,"width":300,"z_index":null,"backdrop":false,"backdrop_cover":false,"class_names":["hide_title","hide_end","hide_next","hide_prev","inmplayer_tpl_step_default"],"custom_data":{},"on_activate":"","on_deactivate":"","on_show":"","author_changes":["condition"],"condition":{"type":"inherit"},"launcher":null,"url_trigger":null,"backdrop_options":{},"triggers":[]}],"version":"HEAD","order":1,"hidden":false,"language_agnostic":false,"visibility":null,"launcher":null,"owner":{"id":4232,"type":"user","name":"","username":"mhadianfard"}}},"rules":{},"actions":{"autolaunch":[]},"style":".inmplayer-popover-wrapper {  background-color: #ffffff;  color: #222222;  border-style: solid;  border-color: #c0c0c0;  border-width: 1px;  -webkit-border-radius: 6px;  -moz-border-radius: 6px;  border-radius: 6px;}.inmplayer-popover-button-previous, .inmplayer-popover-button-next, .inmplayer-popover-button-end {  background-color: #03a9f4;  color: #ffffff;  border-style: solid;  border-color: #007db6;  border-width: 1px;  -webkit-border-radius: 2px;  -moz-border-radius: 2px;  border-radius: 2px;}.inmplayer-popover-pointer-shape {  fill: #03a9f4;  stroke: #03a9f4;  stroke-width: 1px;}.inmplayer-launcher {  background-color: #cc0000;  color: #ffffff;  border-style: solid;  border-color: #ffffff;  border-width: 2%;  -webkit-border-radius: 50%;  -moz-border-radius: 50%;  border-radius: 50%;}.inmplayer-panel-header, .inmplayer-trigger {  background-color: #03a9f4;  color: #ffffff;}.inmplayer-panel-close-button {  background-color: transparent;}"});
}).call(this);
